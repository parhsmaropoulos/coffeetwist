(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{112:function(e,t,s){},115:function(e,t,s){},149:function(e,t,s){},150:function(e,t,s){},151:function(e,t,s){},166:function(e,t,s){},176:function(e,t,s){},222:function(e,t,s){},266:function(e,t,s){},267:function(e,t,s){},268:function(e,t,s){},279:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(21),c=s.n(r),i=s(25),o=s(13),d=s(14),l=s(10),h=s(16),u=s(15),j=(s(222),s(29)),p=s(12),b=(s(166),s(26)),m=s(367),O=s(333),g=s(334),x=s(181),f=s(335),y=s(186),v=s(109),C=s.n(v),_=s(155),N=s(20),w=s.n(N),S={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},k="REGISTER_SUCCESS",R="REGISTER_FAIL",I="LOGIN_SUCCESS",A="LOGIN_FAIL",E="LOGOUT_SUCCESS",T="USER_LOADED",P="USER_LOADING",D="UPDATE_USER",M="GET_USER",L="SUBSCRIBE_USER",G="UNSUBSCRIBE_USER",B="GET_COMMENTS",F="COMMENT_ANSWERED",U="REJECT_COMMENT",q="APPROVE_COMMENT",H="GET_ERRORS",W="GET_MESSAGE",z="ADD_ALERT",V="REMOVE_ALERT",Y="SNACKBAR_SUCCESS",X="SNACKBAR_ERROR",J="SNACKBAR_INFO",K="SNACKBAR_CLEAR",Z="GET_ITEMS",Q="GET_CATEGORIES",$="GET_INGREDIENTS",ee="GET_CHOICES",te="CREATE_ITEM",se="CREATE_CATEGORY",ae="CREATE_INGREDIENT",ne="CREATE_CHOICES",re="DELETE_PRODUCT",ce="DELETE_CATEGORY",ie="DELETE_INGREDIENT",oe="UPDATE_INGREDIENT",de="UPDATE_ITEM",le="SEND_ORDER",he="GET_ORDER",ue="ACCEPT_ORDER",je="COMPLETE_ORDER",pe="ORDER_ACCEPTED",be="ORDER_DECLINED",me="TODAY_ORDERS",Oe="CLEAR_REDUCER",ge="ADD_ITEM",xe="UPDATE_CART",fe="UPDATE_ORDER",ye="EMPTY_CART",ve="CREATE_ROOM_SUCCESS",Ce="JOIN_ROOM_SUCCESS",_e="SET_USERNAME",Ne=(s(99),function(e,t){return{type:H,payload:{msg:e,status:t},status:e.response.status,statusText:e.response.statusText,message:e.response.data.message}}),we=function(){return function(e){w.a.get("http://localhost:8080/products/all").then((function(t){e({type:Z,products:t.data.data}),e({type:Y,message:"Products fetched successfully!"})})).catch((function(t){console.log(t),e({type:X,message:t.response.data.message}),e(Ne(t,t.status))}))}},Se=function(e,t,s){return function(a){var n={id:e,product:t,reason:s};console.log(n),w.a.put("http://localhost:8080/products/update",n,S).then((function(e){console.log(e.data),a({type:de,new_item:e.data.data}),a({type:Y,message:"item updated successfully"})})).catch((function(e){console.log(e),a({type:X,message:e.response.data.message})}))}},ke=function(){return function(e){w.a.get("http://localhost:8080/product_category/all").then((function(t){e({type:Q,categories:t.data.data}),e({type:Y,message:"Categories fetched successfully!"})})).catch((function(t){console.log(t),e(Ne(t,t.status)),e({type:X,message:t.response.data.message})}))}},Re=function(){return function(e){w.a.get("http://localhost:8080/products/ingredients").then((function(t){e({type:$,ingredients:t.data.data,categories:t.data.categories}),e({type:Y,message:"Ingredients fetched successfully!"})})).catch((function(t){console.log(t),e(Ne(t,t.status)),e({type:X,message:t.response.data.message})}))}},Ie=function(e,t,s){return function(a){var n={id:e,ingredient:t,reason:s};w.a.put("http://localhost:8080/products/update_ingredient",n,S).then((function(e){console.log(e),a({type:oe,new_ingredient:e.data.data}),a({type:Y,message:"Ingredient updated successfully"})})).catch((function(e){a(Ne(e,e.status)),a({type:X,message:e.response.data.message})}))}},Ae=function(){return function(e){w.a.get("http://localhost:8080/products/choices").then((function(t){e({type:ee,choices:t.data.data}),e({type:Y,message:"Choices fetched successfully!"})})).catch((function(t){console.log(t),e(Ne(t,t.status)),e({type:X,message:t.response.data.message})}))}},Ee=function(e,t){return function(s){var a={id:e,choice:t};w.a.put("http://localhost:8080/products/update_choice",a,S).then((function(e){s({type:"UPDATE_CHOICE",new_item:e.data.data}),s({type:Y,message:"Choice updated successfully"})})).catch((function(e){console.log(e),s({type:X,message:e.response.data.message})}))}},Te=function(e,t){return function(s){switch(t){case"product":return console.log("here"),void w.a.delete("http://localhost:8080/products/product/".concat(e),S).then((function(e){s({type:re,deleted_product:e.data.data}),s({type:Y,message:"Item deleted successfully"})})).catch((function(e){console.log(e),s(Ne(e,e.status)),s({type:X,message:e.response.data.message})}));case"category":return console.log("here"),void w.a.delete("http://localhost:8080/product_category/delete/".concat(e),S).then((function(e){s({type:ce,deleted_category:e.data.data}),s({type:Y,message:"Category deleted successfully"})})).catch((function(e){console.log(e),s(Ne(e,e.status)),s({type:X,message:e.response.data.message})}));case"ingredient":return void w.a.delete("http://localhost:8080/products/ingredient/".concat(e),S).then((function(e){s({type:ie,delete_ingredient:e.data.data}),s({type:Y,message:"Ingredient deleted successfully"})})).catch((function(e){console.log(e),s(Ne(e,e.status)),s({type:X,message:e.response.data.message})}));case"choice":return console.log("here"),void w.a.delete("http://localhost:8080/products/choice/".concat(e),S).then((function(e){s({type:"DELETE_CHOICE",delete_choice:e.data.data}),s({type:Y,message:"Choice deleted successfully"})})).catch((function(e){console.log(e),s(Ne(e,e.status)),s({type:X,message:e.response.data.message})}));default:return}}},Pe=function(){var e=Object(_.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("http://localhost:8080/products/all");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(_.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("http://localhost:8080/product_categories/all");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Me=s(118),Le=s.n(Me),Ge=s(329),Be=s(281),Fe=s(330),Ue=s(327),qe=s(373),He=s(328),We=s(331),ze=s(332),Ve=s(122),Ye=s.n(Ve),Xe=s(123),Je=s.n(Xe),Ke=s(1),Ze=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleToggle=function(e){var t=a.state.extra_ingredients.indexOf(e),s=Object(b.a)(a.state.extra_ingredients);-1===t?s.push(e):s.splice(t,1),a.setState({extra_ingredients:s})},a.handleAvailableToggle=function(e){var t=a.state.available_ingredients.indexOf(e),s=Object(b.a)(a.state.available_ingredients);-1===t?s.push(e):s.splice(t,1),a.setState({available_ingredients:s})},a.handleChoiceToggle=function(e){var t=a.state.checkedChoices.indexOf(e),s=Object(b.a)(a.state.checkedChoices);-1===t?s.push(e):s.splice(t,1),a.setState({checkedChoices:s}),console.log(s)},a.onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.onFileChange=function(e){try{Le.a.imageFileResizer(e.target.files[0],300,300,"JPEG",100,0,(function(e){a.setState({source:e})}),"base64",200,200)}catch(t){console.log(t)}a.setState({image:e.target.files[0],filename:e.target.files[0].name})},a.state={name:"",price:0,category:"Kafedes",description:"",filename:"Choose product image *",source:"",image:null,extra_ingredients:[""],available_ingredients:[""],checkedChoices:[-1],hasIngredients:!1,showChoices:!1,isCustom:!1,choices:[]},a.onChange=a.onChange.bind(Object(l.a)(a)),a.onSubmit=a.onSubmit.bind(Object(l.a)(a)),a.onChangeCheck=a.onChangeCheck.bind(Object(l.a)(a)),a.onCustomChange=a.onCustomChange.bind(Object(l.a)(a)),a.showChoices=a.showChoices.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"showChoices",value:function(e){e.preventDefault(),this.setState({showChoices:!this.state.showChoices})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,description:this.state.description,price:parseFloat(this.state.price),category:this.state.category,ingredients:this.state.extra_ingredients.slice(1),extra_ingredients:[],choices:this.state.choices,custom:this.state.isCustom};for(var s in this.state.checkedChoices)-1!==this.state.checkedChoices[s]&&t.choices.push(this.props.choices[this.state.checkedChoices[s]]);var a=this.props.ingredients,n=this.state.available_ingredients;for(s in a)for(var r in a[s])n.includes(a[s][r].name)&&t.extra_ingredients.push(a[s][r]);var c=this.state.image;console.log(t),this.props.create_product(t,c),this.setState({name:"",price:0,category:"Kafedes",description:"",filename:"Choose product image *",source:"",image:null,extra_ingredients:[""],checkedChoices:[-1],hasIngredients:!1,showChoices:!1,isCustom:!1,choices:[]})}},{key:"onChangeCheck",value:function(){this.setState({hasIngredients:!this.state.hasIngredients}),"block"===document.getElementById("ingredient-list").style.display?document.getElementById("ingredient-list").style.display="none":document.getElementById("ingredient-list").style.display="block"}},{key:"onCustomChange",value:function(){this.setState({isCustom:!this.state.isCustom}),"block"===document.getElementById("available-ingredient-list").style.display?document.getElementById("available-ingredient-list").style.display="none":document.getElementById("available-ingredient-list").style.display="block"}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(Ke.jsxs)(m.a,{onSubmit:this.onSubmit,children:[Object(Ke.jsxs)(m.a.Group,{controlId:"name",children:[Object(Ke.jsx)(m.a.Label,{children:"Item Name *"}),Object(Ke.jsx)(m.a.Control,{type:"text",placeholder:"Enter name",name:"name",onChange:this.onChange,required:!0})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"description",children:[Object(Ke.jsx)(m.a.Label,{children:"Item description"}),Object(Ke.jsx)(m.a.Control,{type:"text",placeholder:"Enter desc",name:"description",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"price",children:[Object(Ke.jsx)(m.a.Label,{children:"Item price *"}),Object(Ke.jsx)(m.a.Control,{type:"number",step:"0.01",autoComplete:"false",placeholder:"Enter price",name:"price",onChange:this.onChange,required:!0})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"category",children:[Object(Ke.jsx)(m.a.Label,{children:"Category *"}),Object(Ke.jsx)(m.a.Control,{as:"select",name:"category",onChange:this.onChange,required:!0,children:this.props.categories.length>0?this.props.categories.map((function(e,t){return Object(Ke.jsx)("option",{children:e.name},t)})):Object(Ke.jsx)("option",{children:"No categories yet"},"0")})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"choices",children:[Object(Ke.jsxs)(Be.a,{button:!0,onClick:this.showChoices,children:[Object(Ke.jsx)(Ue.a,{primary:"Select choices"}),this.state.showChoices?Object(Ke.jsx)(Ye.a,{}):Object(Ke.jsx)(Je.a,{})]}),Object(Ke.jsx)(He.a,{in:this.state.showChoices,timeout:"auto",unmountOnExit:!0,children:Object(Ke.jsx)(Ge.a,{component:"div",disablePadding:!0,children:this.props.choices.map((function(t,s){var a="choice-item-".concat(t.name);return Object(Ke.jsx)(Be.a,{role:void 0,dense:!0,button:!0,onClick:function(){return e.handleChoiceToggle(s)},children:Object(Ke.jsxs)(Fe.a,{children:[Object(Ke.jsx)(qe.a,{edge:"start",checked:-1!==e.state.checkedChoices.indexOf(s),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}}),Object(Ke.jsx)(Ue.a,{id:a,primary:"".concat(t.name)})]})},s)}))})})]}),Object(Ke.jsx)(m.a.Group,{controlId:"image",children:Object(Ke.jsx)(m.a.File,{id:"custom-file",label:this.state.filename,custom:!0,onChange:this.onFileChange})}),Object(Ke.jsxs)(m.a.Group,{controlId:"customProduct",children:[Object(Ke.jsx)(We.a,{control:Object(Ke.jsx)(qe.a,{checked:this.state.isCustom,onChange:this.onCustomChange,name:"isCustom",color:"primary"}),label:"Is product custom?"}),Object(Ke.jsx)(Ge.a,{style:{display:"none"},className:"create-item-ingredient-list",id:"available-ingredient-list",subhead:Object(Ke.jsx)("li",{}),children:this.props.ingredients.map((function(t,s){return Object(Ke.jsx)("li",{children:Object(Ke.jsxs)("ul",{children:[Object(Ke.jsx)(ze.a,{children:"".concat(t[0].category)}),t.map((function(t,s){var a="ingredient-item-".concat(t.name);return Object(Ke.jsx)(Be.a,{role:void 0,dense:!0,button:!0,onClick:function(){return e.handleAvailableToggle(t.name)},children:Object(Ke.jsxs)(Fe.a,{children:[Object(Ke.jsx)(qe.a,{edge:"start",checked:-1!==e.state.available_ingredients.indexOf(t.name),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}}),Object(Ke.jsx)(Ue.a,{id:a,primary:"".concat(t.name)})]})},s)}))]})},s)}))})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"ingredients",children:[Object(Ke.jsx)(We.a,{control:Object(Ke.jsx)(qe.a,{checked:this.state.hasIngredients,onChange:this.onChangeCheck,name:"hasIngredients",color:"primary"}),label:"Has ingredients"}),Object(Ke.jsx)(Ge.a,{style:{display:"none"},className:"create-item-ingredient-list",id:"ingredient-list",subhead:Object(Ke.jsx)("li",{}),children:this.props.ingredients.map((function(t,s){return Object(Ke.jsx)("li",{children:Object(Ke.jsxs)("ul",{children:[Object(Ke.jsx)(ze.a,{children:"".concat(t[0].category)}),t.map((function(t,s){var a="ingredient-item-".concat(t.name);return Object(Ke.jsx)(Be.a,{role:void 0,dense:!0,button:!0,onClick:function(){return e.handleToggle(t.name)},children:Object(Ke.jsxs)(Fe.a,{children:[Object(Ke.jsx)(qe.a,{edge:"start",checked:-1!==e.state.extra_ingredients.indexOf(t.name),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}}),Object(Ke.jsx)(Ue.a,{id:a,primary:"".concat(t.name)})]})},s)}))]})},s)}))})]}),Object(Ke.jsx)(O.a,{children:Object(Ke.jsx)(g.a,{children:Object(Ke.jsx)(x.a,{xs:6,md:4,children:Object(Ke.jsx)(f.a,{id:"preview-image",src:this.state.source,rounded:!0})})})}),Object(Ke.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})}}]),s}(a.Component),Qe=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,ingredients:e.productReducer.ingredients,choices:e.productReducer.choices}}),{create_product:function(e,t){return function(s){var a=new FormData;a.append("file",t),a.append("data",JSON.stringify(e));w.a.post("http://localhost:8080/products/create_product",a,{"Content-Type":"multipart/form-data"}).then((function(e){s({type:te,new_product:e.data.data,new_category:e.data.new_cat})})).then((function(e){s({type:Y,message:"product created successfully"})})).catch((function(e){console.log(e),s(Ne(e,e.status)),s({type:X,message:e.response.data.message})}))}}})(Ze),$e=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).onFileChange=function(e){try{Le.a.imageFileResizer(e.target.files[0],300,300,"JPEG",100,0,(function(e){a.setState({source:e})}),"base64",200,200)}catch(t){console.log(t)}a.setState({image:e.target.files[0],filename:e.target.files[0].name})},a.onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.state={name:"",filename:"Choose category image *",description:"",show:!1,image:null},a.onChange=a.onChange.bind(Object(l.a)(a)),a.onSubmit=a.onSubmit.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,description:this.state.description},s=this.state.image;this.props.create_category(t,s),this.setState({name:"",filename:"Choose category image *",description:"",show:!1,image:null})}},{key:"render",value:function(){return Object(Ke.jsxs)(m.a,{onSubmit:this.onSubmit,children:[Object(Ke.jsxs)(m.a.Group,{controlId:"name",children:[Object(Ke.jsx)(m.a.Label,{children:"Category Name *"}),Object(Ke.jsx)(m.a.Control,{type:"text",placeholder:"Enter name",name:"name",required:!0,onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"description",children:[Object(Ke.jsx)(m.a.Label,{children:"Category description"}),Object(Ke.jsx)(m.a.Control,{type:"text",placeholder:"Enter desc",name:"description",onChange:this.onChange})]}),Object(Ke.jsx)(m.a.Group,{controlId:"image",children:Object(Ke.jsx)(m.a.File,{id:"custom-file",label:this.state.filename,custom:!0,onChange:this.onFileChange})}),Object(Ke.jsx)(O.a,{children:Object(Ke.jsx)(g.a,{children:Object(Ke.jsx)(x.a,{xs:6,md:4,children:Object(Ke.jsx)(f.a,{id:"preview-image",src:this.state.source,rounded:!0})})})}),Object(Ke.jsx)(y.a,{type:"submit",style:{marginTop:15},children:"Create Category"})]})}}]),s}(a.Component),et=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated}}),{create_category:function(e,t){return function(s){var a=new FormData;a.append("file",t),a.append("data",JSON.stringify(e));w.a.post("http://localhost:8080/product_category/create_product_category",a,{"Content-Type":"multipart/form-data"}).then((function(e){s({type:se}),s({type:Y,message:"Category created successfully!"})})).catch((function(e){console.log(e),s(Ne(e,e.status)),s({type:X,message:e.response.data.message})}))}}})($e),tt=s(365),st=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).removeOption=function(e){a.setState({options:a.state.options.filter((function(t,s){return s!==e}))})},a.onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.handleShow=function(){console.log("open"),a.setState({show:!0})},a.handleClose=function(){a.setState({show:!1})},a.handleSaveOption=function(){var e={name:a.state.optionName,price:parseFloat(a.state.optionPrice)};a.setState((function(t){return{options:[].concat(Object(b.a)(t.options),[e])}})),a.setState({show:!1})},a.state={name:"",desctription:"",options:[],optionName:"",optionPrice:0,show:!1,multiple:!1,required:!1},a.removeOption=a.removeOption.bind(Object(l.a)(a)),a.onChange=a.onChange.bind(Object(l.a)(a)),a.handleShow=a.handleShow.bind(Object(l.a)(a)),a.handleClose=a.handleClose.bind(Object(l.a)(a)),a.handleSaveOption=a.handleSaveOption.bind(Object(l.a)(a)),a.onSumbit=a.onSubmit.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,description:this.state.description,required:this.state.required,multiple:this.state.multiple,options:this.state.options};console.log(t),this.props.create_choice(t)}},{key:"render",value:function(){var e=this;return Object(Ke.jsxs)("div",{className:"CreateChoiceForm",children:[Object(Ke.jsxs)(m.a,{onSubmit:this.onSumbit,children:[Object(Ke.jsxs)(m.a.Group,{controlId:"choiceName",children:[Object(Ke.jsx)(m.a.Label,{children:"Choice Name"}),Object(Ke.jsx)(m.a.Control,{name:"name",type:"text",placeholder:"Enter name",required:!0,onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"choiceDesc",children:[Object(Ke.jsx)(m.a.Label,{children:"Choice Description"}),Object(Ke.jsx)(m.a.Control,{name:"description",type:"text",placeholder:"Enter description",required:!0,onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"choiceMultiple",children:[Object(Ke.jsx)(m.a.Label,{children:"Multiple"}),Object(Ke.jsx)(qe.a,{checked:this.state.multiple,onChange:function(t){return e.setState({multiple:!e.state.multiple})},color:"primary"})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"choiceRequired",children:[Object(Ke.jsx)(m.a.Label,{children:"Required"}),Object(Ke.jsx)(qe.a,{checked:this.state.required,onChange:function(t){return e.setState({required:!e.state.required})},color:"primary"})]}),Object(Ke.jsx)(m.a.Label,{children:"Choice Options"}),Object(Ke.jsx)(m.a.Group,{controlId:"choiceOptions",children:Object(Ke.jsx)(Ge.a,{dense:!0,children:this.state.options.map((function(t,s){return Object(Ke.jsxs)(Be.a,{children:[Object(Ke.jsx)(Ue.a,{primary:"".concat(t.name," : ").concat(t.price)})," ",Object(Ke.jsx)(y.a,{onClick:function(){return e.removeOption(s)},children:"X"})]},s)}))})}),Object(Ke.jsxs)(m.a.Row,{children:[Object(Ke.jsx)(y.a,{variant:"primary",onClick:this.handleShow,children:"Add option"}),Object(Ke.jsx)(y.a,{variant:"primary",type:"submit",children:"Save choice"})]})]}),Object(Ke.jsxs)(tt.a,{show:this.state.show,onHide:this.handleClose,children:[Object(Ke.jsx)(tt.a.Header,{closeButton:!0,children:Object(Ke.jsx)(tt.a.Title,{children:"Option Values"})}),Object(Ke.jsx)(tt.a.Body,{children:Object(Ke.jsxs)(m.a.Row,{children:[Object(Ke.jsxs)(m.a.Group,{as:x.a,md:6,children:[Object(Ke.jsx)(m.a.Label,{children:"Value"}),Object(Ke.jsx)(m.a.Control,{id:"optionName",name:"optionName",type:"text",placeholer:"enter name",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{as:x.a,md:6,children:[Object(Ke.jsx)(m.a.Label,{children:"Price"}),Object(Ke.jsx)(m.a.Control,{id:"optionPrice",name:"optionPrice",type:"number",step:"0.01",placeholer:"enter price",onChange:this.onChange})]})]})}),Object(Ke.jsxs)(tt.a.Footer,{children:[Object(Ke.jsx)(y.a,{variant:"secondary",onClick:this.handleClose,children:"Close"}),Object(Ke.jsx)(y.a,{variant:"primary",onClick:this.handleSaveOption,children:"Save Option"})]})]})]})}}]),s}(a.Component),at=Object(p.b)(null,{create_choice:function(e){return function(t){var s=e;w.a.post("http://localhost:8080/products/create_product_choice",s,S).then((function(e){t({type:ne,choice:e.data.data}),t({type:Y,message:"Choice created successfully"})})).catch((function(e){console.log(e),t(Ne(e,e.status)),t({type:X,message:e.response.data.message})}))}}})(st),nt=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).showNewCat=function(e){e?a.setState({display:"block"}):a.setState({display:"none"})},a.onChange=function(e){console.log("here"),"Create New"===e.target.value?a.showNewCat(!0):a.setState(Object(i.a)({},e.target.name,e.target.value))},a.state={name:"",price:0,description:"",category:"",display:"none"},a.onSubmit=a.onSubmit.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){console.log(this.props.categories),this.setState({category:this.props.categories[0]})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,price:parseFloat(this.state.price),description:this.state.description,category:this.state.category};this.props.create_ingredient(t),this.setState({name:"",price:0,description:"",category:"",display:"none"})}},{key:"render",value:function(){return Object(Ke.jsxs)(m.a,{onSubmit:this.onSubmit,children:[Object(Ke.jsxs)(m.a.Group,{controlId:"name",children:[Object(Ke.jsx)(m.a.Label,{children:"Ingredient Name *"}),Object(Ke.jsx)(m.a.Control,{type:"text",placeholder:"Enter name",name:"name",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"description",children:[Object(Ke.jsx)(m.a.Label,{children:"Ingredient description"}),Object(Ke.jsx)(m.a.Control,{type:"text",placeholder:"Enter description",name:"description",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"price",children:[Object(Ke.jsx)(m.a.Label,{children:"Ingredient price *"}),Object(Ke.jsx)(m.a.Control,{type:"number",step:"0.01",autoComplete:"false",placeholder:"Enter price",name:"price",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"category",children:[Object(Ke.jsx)(m.a.Label,{children:"Category"}),Object(Ke.jsxs)(m.a.Control,{as:"select",name:"category",onChange:this.onChange,required:!0,children:[this.props.categories.length>0?this.props.categories.map((function(e,t){return Object(Ke.jsx)("option",{children:e},t)})):Object(Ke.jsx)("option",{children:"No categories yet"},"0"),Object(Ke.jsx)("option",{children:"Create New"},"100")]})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"newcategory",style:{display:this.state.display},children:[Object(Ke.jsx)(m.a.Label,{children:"New Category "}),Object(Ke.jsx)(m.a.Control,{type:"text",placeholder:"Enter new category",name:"category",onChange:this.onChange})]}),Object(Ke.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})}}]),s}(a.Component),rt=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,categories:e.productReducer.ingredientCategories}}),{create_ingredient:function(e){return function(t){var s=e;w.a.post("http://localhost:8080/products/create_product_ingredient",s,S).then((function(e){t({type:ae,new_ingredient:e.data.data}),t({type:Y,message:"Ingredient created successfully"})})).catch((function(e){console.log(e),t(Ne(e,e.status)),t({type:X,message:e.response.data.message})}))}}})(nt),ct=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={categories:[],name:"",description:"",price:0,category:""},e}return Object(d.a)(s,[{key:"renderSwitch",value:function(e){switch(e){case"Create Item":return Object(Ke.jsx)(Qe,{categories:this.props.categories});case"Create Category":return Object(Ke.jsx)(et,{});case"Create Choice":return Object(Ke.jsx)(at,{});case"Create Ingredient":return Object(Ke.jsx)(rt,{});default:return Object(Ke.jsx)("div",{children:"Please select an option"})}}},{key:"render",value:function(){return Object(Ke.jsx)("div",{className:"CreateForm",children:this.renderSwitch(this.props.option)})}}]),s}(a.Component),it=Object(p.b)((function(e){return{categories:e.productReducer.categories}}),{})(ct),ot=[{name:"Create Item"},{name:"Create Category"},{name:"Create Ingredient"},{name:"Create Choice"}],dt=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={selectedOption:""},e.changeOption=function(t){e.setState({selectedOption:t})},e}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.props.productReducer.isReady||(this.props.get_items(),this.props.get_categories(),this.props.get_ingredients(),this.props.get_choices())}},{key:"render",value:function(){var e=this;return Object(Ke.jsxs)("div",{className:"CreatePage",children:[Object(Ke.jsx)("div",{className:"Createoptions",children:Object(Ke.jsx)("ul",{className:"Optionlist",children:ot.map((function(t,s){return Object(Ke.jsxs)("li",{className:"row",children:[" ",Object(Ke.jsx)("div",{id:"button",name:"selectedOption",onClick:function(){return e.changeOption(t.name)},children:t.name})]},s)}))})}),Object(Ke.jsx)(it,{option:this.state.selectedOption})]})}}]),s}(a.Component),lt=Object(p.b)((function(e){return{productReducer:e.productReducer}}),{get_items:we,get_categories:ke,get_ingredients:Re,get_choices:Ae})(dt),ht=s(336),ut=s(187),jt=s.n(ut),pt=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.sendMessage=function(e){e.preventDefault();var t={id:a.state.comment,order:a.state.comment,from:a.state.id};console.log(t),w.a.post("http://localhost:8080/sse/sendorder/".concat(a.state.id),t).then((function(e){a.setState({awaiting:!0})}))},a.state={comment:"",id:0,chatHistory:[],awaiting:!1,accepted:!1},a.eventSource=new EventSource("http://localhost:8080/sse/events/".concat(e.match.params.id)),a.onChange=a.onChange.bind(Object(l.a)(a)),a.sendMessage=a.sendMessage.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"recieveOrder",value:function(e){var t=JSON.parse(e.data);null!==this.state.commnet&&t.from===String(this.state.id)&&console.log("We did it bitches"),this.setState({awaiting:!1,accepted:t.accepted}),console.log(t)}},{key:"componentDidMount",value:function(){var e=this;this.eventSource.onmessage=function(t){return e.recieveOrder(t)}}},{key:"render",value:function(){return this.state.awaiting?Object(Ke.jsx)("div",{children:Object(Ke.jsx)(jt.a,{})}):Object(Ke.jsxs)("div",{children:[Object(Ke.jsx)(ht.a,{id:"comments",name:"comment",label:"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1",variant:"outlined",placeholder:"\u0388\u03be\u03c4\u03c1\u03b1 \u03c3\u03c7\u03cc\u03bb\u03b9\u03b1",rows:4,multiline:!0,className:"pre-complete-input",onChange:this.onChange}),Object(Ke.jsx)("button",{onClick:this.sendMessage})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.match.params?{id:e.match.params.id}:null}}]),s}(a.Component),bt=Object(p.b)((function(e){return{userReducer:e.userReducer}}))(pt),mt=s(90),Ot=(s(149),s(18)),gt=function(e){return function(t,s){var a=e,n={id:null,order:null,from:null,user_details:null},r=sessionStorage.getItem("token"),c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}};w.a.post("http://localhost:8080/orders/send_order",a,c).then((function(e){console.log(e),n.id=e.data.order.id,n.order=e.data.order,n.from=e.data.order.user_id,n.user_details=e.data.user_details,w.a.post("http://localhost:8080/sse/sendorder/".concat(n.from),n).then((function(e){})),t({type:le}),t({type:Y,message:"Order send!"})})).catch((function(e){console.log(e.response),t({type:X,message:e.response.data.message})}))}},xt=s(340),ft=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={selectedCategory:"",product_ids:[],user_id:null},e.changeCategory=function(t){e.setState({selectedCategory:t})},e}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.setState({user_id:this.props.user_Id})}},{key:"changeAvailability",value:function(e){this.props.update_item(e.id,e,"change_availability")}},{key:"changeAvailabilityIngredient",value:function(e){this.props.update_ingredient(e.id,e,"change_availability")}},{key:"render",value:function(){var e=this;return Object(Ke.jsxs)("div",{className:"ItemsComponent",children:[Object(Ke.jsx)("div",{className:"Categoriestable",children:Object(Ke.jsx)("ul",{className:"Categorylist",children:this.props.categories.map((function(t,s){return Object(Ke.jsxs)("li",{className:"row",onClick:function(){return e.changeCategory(t.name)},children:[" ",Object(Ke.jsx)("div",{id:"button",name:"selectedCategory",children:t.name})]},s)}))})}),Object(Ke.jsxs)(mt.a,{bordered:!0,striped:!0,className:"Itemstable",children:[Object(Ke.jsx)("thead",{children:Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("th",{children:"Name"}),Object(Ke.jsx)("th",{children:"Price"}),Object(Ke.jsx)("th",{children:"Description"}),Object(Ke.jsx)("th",{children:"Available"}),Object(Ke.jsx)("th",{children:"Actions"})]})}),Object(Ke.jsx)("tbody",{children:"ingredients"===this.state.selectedCategory?this.props.ingredients.map((function(t,s){return Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("td",{children:t.name}),Object(Ke.jsx)("td",{children:t.price}),Object(Ke.jsx)("td",{children:t.description}),Object(Ke.jsx)("td",{children:Object(Ke.jsx)(m.a.Check,{type:"switch",defaultChecked:t.available,onChange:function(){return e.changeAvailabilityIngredient(t)},id:t.id,label:"Available"})}),Object(Ke.jsx)("td",{children:Object(Ke.jsx)(Ot.b,{to:{pathname:"/single_ingredient",state:{ingredient:t}},children:Object(Ke.jsx)(xt.a,{})})})]},s)})):this.props.products.map((function(t,s){return t.category===e.state.selectedCategory?Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("td",{children:t.name}),Object(Ke.jsx)("td",{children:t.price}),Object(Ke.jsx)("td",{children:t.description}),Object(Ke.jsx)("td",{children:Object(Ke.jsx)(m.a.Check,{type:"switch",defaultChecked:t.available,onChange:function(){return e.changeAvailability(t)},id:t.id,label:"Available"})}),Object(Ke.jsx)("td",{children:Object(Ke.jsx)(Ot.b,{to:{pathname:"/single_item",state:{item:t}},children:Object(Ke.jsx)(xt.a,{})})})]},s):Object(Ke.jsx)("tr",{},s)}))})]})]})}}]),s}(a.Component),yt=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,categories:e.productReducer.categories,products:e.productReducer.products,ingredients:e.productReducer.ingredients,order_accepted:e.orderReducer.accepted,order_sent:e.orderReducer.sent}}),{send_order:gt,update_item:Se,update_ingredient:Ie})(ft),vt=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={selectedCategory:0},e.changeCategory=function(t){console.log(t),e.setState({selectedCategory:t})},e}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.props.ingredients.length>0&&this.setState({selectedCategory:0})}},{key:"changeAvailabilityIngredient",value:function(e){this.props.update_ingredient(e.id,e,"change_availability")}},{key:"render",value:function(){var e=this;return Object(Ke.jsxs)("div",{className:"ItemsComponent",children:[Object(Ke.jsx)("div",{className:"Categoriestable",children:Object(Ke.jsx)("ul",{className:"Categorylist",children:this.props.ingredients.length>0?this.props.ingredients.map((function(t,s){return Object(Ke.jsxs)("li",{className:"row",onClick:function(){return e.changeCategory(s)},children:[" ",Object(Ke.jsx)("div",{id:"button",name:"selectedCategory",children:t[0].category})]},s)})):null})}),Object(Ke.jsxs)(mt.a,{bordered:!0,striped:!0,className:"Itemstable",children:[Object(Ke.jsx)("thead",{children:Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("th",{children:"Name"}),Object(Ke.jsx)("th",{children:"Price"}),Object(Ke.jsx)("th",{children:"Description"}),Object(Ke.jsx)("th",{children:"Available"}),Object(Ke.jsx)("th",{children:"Actions"})]})}),Object(Ke.jsx)("tbody",{children:this.props.ingredients.length>0?this.props.ingredients[this.state.selectedCategory].map((function(t,s){return Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("td",{children:t.name}),Object(Ke.jsx)("td",{children:t.price}),Object(Ke.jsx)("td",{children:t.description}),Object(Ke.jsx)("td",{children:Object(Ke.jsx)(m.a.Check,{type:"switch",defaultChecked:t.available,onChange:function(){return e.changeAvailabilityIngredient(t)},id:t.id,label:"Available"})}),Object(Ke.jsx)("td",{children:Object(Ke.jsx)(Ot.b,{to:{pathname:"/single_ingredient",state:{ingredient:t}},children:Object(Ke.jsx)(xt.a,{})})})]},s)})):null})]})]})}}]),s}(a.Component),Ct=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,ingredients:e.productReducer.ingredients}}),{update_ingredient:Ie})(vt),_t=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={selectedChoice:0},e.changeCategory=function(t){console.log(t),e.setState({selectedChoice:t})},e}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.props.choices.length>0&&this.setState({selectedChoice:0})}},{key:"render",value:function(){var e=this;return Object(Ke.jsxs)("div",{className:"ItemsComponent",children:[Object(Ke.jsx)("div",{className:"Categoriestable",children:Object(Ke.jsx)("ul",{className:"Categorylist",children:this.props.choices.length>0?this.props.choices.map((function(t,s){return Object(Ke.jsxs)("li",{className:"row",onClick:function(){return e.changeCategory(s)},children:[" ",Object(Ke.jsx)("div",{id:"button",name:"selectedCategory",children:t.name})]},s)})):null})}),Object(Ke.jsxs)(mt.a,{bordered:!0,striped:!0,className:"Itemstable",children:[Object(Ke.jsx)("thead",{children:Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("th",{children:"Name"}),Object(Ke.jsx)("th",{children:"Options"}),Object(Ke.jsx)("th",{children:"Description"}),Object(Ke.jsx)("th",{children:"Required"}),Object(Ke.jsx)("th",{children:"Actions"})]})}),Object(Ke.jsx)("tbody",{children:this.props.choices.length>0?Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("td",{children:this.props.choices[this.state.selectedChoice].name}),Object(Ke.jsx)("td",{children:Object(Ke.jsx)("ul",{children:this.props.choices[this.state.selectedChoice].options.map((function(e,t){return Object(Ke.jsx)("li",{children:e.name},t)}))})}),Object(Ke.jsx)("td",{children:this.props.choices[this.state.selectedChoice].description}),Object(Ke.jsx)("td",{children:this.props.choices[this.state.selectedChoice].required}),Object(Ke.jsx)("td",{children:Object(Ke.jsx)(Ot.b,{to:{pathname:"/single_choice",state:{choice:this.props.choices[this.state.selectedChoice]}},children:Object(Ke.jsx)(xt.a,{})})})]}):null})]})]})}}]),s}(a.Component),Nt=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated}}),{update_choice:Ee})(_t),wt=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"componentDidMount",value:function(){!1===this.props.isReady&&(this.props.get_items(),this.props.get_categories(),this.props.get_ingredients(),this.props.get_choices())}},{key:"render",value:function(){return Object(Ke.jsx)("div",{children:"/choices"===this.props.location.pathname?Object(Ke.jsx)(Nt,{choices:this.props.choices}):"/ingredients"===this.props.location.pathname?Object(Ke.jsx)(Ct,{ingredients:this.props.ingredients}):Object(Ke.jsx)(yt,{products:this.props.products,categories:this.props.categories,ingredients:this.props.ingredients,choices:this.props.choices})})}}]),s}(a.Component),St=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,categories:e.productReducer.categories,products:e.productReducer.products,ingredients:e.productReducer.ingredients,choices:e.productReducer.choices,isReady:e.productReducer.isReady}}),{get_items:we,get_categories:ke,get_ingredients:Re,get_choices:Ae})(wt),kt=s(370),Rt=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={address:"",showAddressModal:!1,id:""},a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.setState({id:Object(kt.a)()})}},{key:"render",value:function(){return Object(Ke.jsx)(O.a,{className:"homePageContainer",style:{minHeight:"70vh"},children:Object(Ke.jsxs)("div",{children:[Object(Ke.jsx)(y.a,{children:Object(Ke.jsx)(Ot.b,{to:"/order",children:"Order Now"})}),Object(Ke.jsx)(Ot.b,{to:"/create_item",children:"Create"}),Object(Ke.jsx)("br",{}),Object(Ke.jsx)(Ot.b,{to:"/items",children:"Items"}),Object(Ke.jsx)("br",{}),Object(Ke.jsx)(Ot.b,{to:"/ingredients",children:"Ingredients"}),Object(Ke.jsx)("br",{}),Object(Ke.jsx)(Ot.b,{to:"/choices",children:"Choices"}),Object(Ke.jsx)("br",{}),Object(Ke.jsx)(Ot.b,{to:"/comments",children:"Comments"})]})})}}]),s}(a.Component),It=Object(p.b)((function(e){return{productReducer:e.productReducer}}),{get_items:we,get_categories:ke,get_ingredients:Re,get_choices:Ae})(Rt),At=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={users:[]},a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(Ke.jsx)("div",{children:Object(Ke.jsx)("h3",{children:"Edw einai ta paidia!!"})})}}]),s}(a.Component),Et=s(7),Tt=s(376),Pt=s(377),Dt=(s(150),s(176),s(151),s(131)),Mt=s.n(Dt),Lt=s(130),Gt=s.n(Lt),Bt=s(372),Ft=s(339),Ut=s(341),qt=s(342),Ht=s(343),Wt=s(81),zt=s(283),Vt=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).handleToggle=function(e){var t=s.state.extra_ingredients.indexOf(e.name),a=Object(b.a)(s.state.extra_ingredients),n=s.state.extraPrice;console.log(e.name),-1===t?(a.push(e.name),n+=e.price):(a.splice(t,1),n-=e.price),s.setState({extra_ingredients:a,extraPrice:n})},s.onChangeChoice=function(e,t){var a=s.state.options,n=0,r=!1,c=!1;for(var i in a){var o=a[i];o.name===e&&(o.choice===t.name&&(c=!0),n=o.price,o.choice=t.name,o.price=t.price,r=!0,console.log("found"))}if(!1===r&&!1===c){var d={name:e,choice:t.name,price:t.price};a.push(d)}if(!1===c){var l=s.state.extraPrice+t.price-n;s.setState({options:a,extraPrice:l})}console.log(a)},s.onChange=function(e){e.preventDefault(),s.setState(Object(i.a)({},e.target.name,e.target.value))},s.onClose=function(e){s.props.onClose&&s.props.onClose(e),s.setState({options:{},quantity:1,comment:"",extraPrice:0})},s.changeQuantity=function(e){e?s.setState({quantity:s.state.quantity+1}):s.state.quantity>0&&s.setState({quantity:s.state.quantity-1})},s.state={options:[],quantity:1,comment:"",extraPrice:0,item:{},extra_ingredients:[""],loaded:!1,item_available_ingredients:[]},s.onSubmit=s.onSubmit.bind(Object(l.a)(s)),s.onClose=s.onClose.bind(Object(l.a)(s)),s.onAdd=s.onAdd.bind(Object(l.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.update&&(console.log(this.props),this.setState({options:this.props.updateItem.options,quantity:this.props.updateItem.quantity,comment:this.props.updateItem.comment,extra_ingredients:this.props.updateItem.extra_ingredients,extraPrice:this.props.updateItem.totalPrice/this.props.updateItem.quantity-this.props.updateItem.item.price}))}},{key:"componentWillUnmount",value:function(){this.setState({loaded:!1})}},{key:"onSubmit",value:function(e){e.preventDefault()}},{key:"onAdd",value:function(e){e.preventDefault();var t=[];if(this.state.options.length>0)for(var s in this.state.options)t.push(this.state.options[s].choice);var a={item:this.props.item,options:this.state.options,comment:this.state.comment,extraPrice:this.state.extraPrice,optionAnswers:t,extra_ingredients:this.state.extra_ingredients.slice(1)};this.props.update&&(a.extra_ingredients=this.state.extra_ingredients),this.props.update?this.props.onUpdate&&this.props.onUpdate(a,this.state.quantity,this.props.index):this.props.onAdd&&this.props.onAdd(a,this.state.quantity),this.props.onClose&&this.props.onClose(e),this.setState({options:{},quantity:1,comment:"",extraPrice:0,extraIngredients:[""]})}},{key:"render",value:function(){var e=this,t="";return t=this.props.update?"\u0395\u03bd\u03b7\u03bc\u03ad\u03c1\u03c9\u03c3\u03b7":"\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7",Object(Ke.jsx)(Bt.a,{open:this.props.show,onClose:function(t){e.onClose(t)},className:"log-reg-modal",children:Object(Ke.jsxs)(Ft.a,{elevation:0,children:[Object(Ke.jsxs)(Ut.a,{container:!0,children:[Object(Ke.jsxs)(Ut.a,{xs:10,item:!0,children:[this.props.item.name,Object(Ke.jsx)("br",{})]}),Object(Ke.jsxs)(Ut.a,{item:!0,xs:2,className:"closeButtonCol",children:[this.props.update?this.state.extraPrice+this.props.updateItem.item.price:this.state.extraPrice+this.props.item.price," ","\u20ac",Object(Ke.jsx)(qt.a,{variant:"contained",color:"secondary",onClick:function(t){e.onClose(t)},children:"X"})]})]}),Object(Ke.jsx)(Ht.a,{}),Object(Ke.jsxs)(Ut.a,{container:!0,children:[Object(Ke.jsx)(Ut.a,{item:!0,xs:1}),Object(Ke.jsx)(Ut.a,{item:!0,xs:10,children:Object(Ke.jsxs)(m.a,{children:[Object(Ke.jsx)(m.a.Group,{children:this.props.item.choices.map((function(t,s){return Object(Ke.jsxs)(Ft.a,{elevation:0,children:[Object(Ke.jsxs)(Wt.a,{className:"modalChoiceName",children:[t.name,t.required?Object(Ke.jsx)("span",{children:"*"}):Object(Ke.jsx)("span",{})]}),Object(Ke.jsx)(Ft.a,{elevation:0,className:"orderItemModalChoiceDiv",children:t.options?t.options.map((function(s,a){var n=!1;for(var r in e.props.updateItem.options){var c=e.props.updateItem.options[r];c.name===t.name&&c.choice===s.name&&(n=!0)}return e.props.update&&n?Object(Ke.jsx)(Ft.a,{className:"form-check",children:Object(Ke.jsxs)(Ut.a,{direction:"row",container:!0,children:[Object(Ke.jsx)(Ut.a,{item:!0,xs:1,children:Object(Ke.jsx)("input",{className:"form-check-input",type:"radio",name:"".concat(t.name),value:"".concat(s.name),id:"".concat(s.name).concat(a),onClick:function(){return e.onChangeChoice(t.name,s)},defaultChecked:!0})}),Object(Ke.jsx)(Ut.a,{item:!0,xs:9,children:Object(Ke.jsx)("label",{className:"form-check-label",htmlFor:"".concat(s.name).concat(a),children:s.name})}),Object(Ke.jsx)(Ut.a,{item:!0,xs:2,children:Object(Ke.jsxs)("span",{className:"form-check-price",children:[s.price," \u20ac"]})})]})},a):Object(Ke.jsx)(Ft.a,{className:"form-check",children:Object(Ke.jsxs)(Ut.a,{container:!0,children:[Object(Ke.jsx)(Ut.a,{item:!0,xs:1,children:Object(Ke.jsx)("input",{className:"form-check-input",type:"radio",name:"".concat(t.name),value:"".concat(s.name),id:"".concat(s.name).concat(a),onClick:function(){return e.onChangeChoice(t.name,s)}})}),Object(Ke.jsx)(Ut.a,{item:!0,xs:9,children:Object(Ke.jsx)("label",{className:"form-check-label",htmlFor:"".concat(s.name).concat(a),children:s.name})}),Object(Ke.jsxs)(Ut.a,{item:!0,xs:2,children:[" ",Object(Ke.jsxs)("span",{className:"form-check-price",children:[s.price," \u20ac"]})]})]})},a)})):Object(Ke.jsx)("span",{})},s)]},s)}))}),Object(Ke.jsx)(m.a.Group,{controlId:"ingrdients",children:!0===this.props.item.custom&&void 0!==this.props.item.extra_ingredients?Object(Ke.jsx)(Ge.a,{className:"create-item-ingredient-list",id:"ingredient-list",children:this.state.item_available_ingredients.map((function(t,s){return Object(Ke.jsxs)(Ft.a,{elevation:0,children:[Object(Ke.jsx)("p",{className:"modalChoiceName",children:"".concat(t[0].category)}),Object(Ke.jsx)(Ft.a,{elevation:0,className:"orderItemModalIngredientsDiv",children:t.map((function(t,s){var a="ingredient-item-".concat(t.name);return t.available?Object(Ke.jsx)(Be.a,{role:void 0,dense:!0,className:"item-modal-ingredient-li",button:!0,onClick:function(){return e.handleToggle(t)},children:Object(Ke.jsxs)(Fe.a,{style:{width:"100%"},children:[Object(Ke.jsx)(qe.a,{edge:"start",checked:-1!==e.state.extra_ingredients.indexOf(t.name),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}}),Object(Ke.jsx)(Ue.a,{id:a,primary:Object(Ke.jsx)(Wt.a,{type:"body2",style:{color:"black",textAlgin:"center"},children:t.name})}),Object(Ke.jsx)(Ue.a,{id:a,primary:Object(Ke.jsxs)(Wt.a,{type:"subtitle1",style:{color:"black",textAlign:"right"},children:[t.price," \u20ac"]})})]})},s):Object(Ke.jsx)(Be.a,{role:void 0,dense:!0,disabled:!0,className:"item-modal-ingredient-li",button:!0,onClick:function(){return e.handleToggle(t)},children:Object(Ke.jsxs)(Fe.a,{style:{width:"100%"},children:[Object(Ke.jsx)(Ue.a,{id:a,primary:Object(Ke.jsx)(Wt.a,{type:"body2",style:{color:"black",textAlgin:"center"},children:t.name})}),Object(Ke.jsx)(Ue.a,{id:a,primary:Object(Ke.jsxs)(Wt.a,{type:"subtitle1",style:{color:"black",textAlign:"right"},children:[t.price," \u20ac"]})})]})},s)}))},s)]},s)}))}):Object(Ke.jsx)("span",{})}),Object(Ke.jsxs)(m.a.Group,{children:[Object(Ke.jsx)(m.a.Label,{className:"modalChoiceName",children:"Comments"}),Object(Ke.jsx)(m.a.Control,{as:"textarea",name:"comment",label:"Leave a comment",placeholder:"Leave a comment",value:this.state.comment,onChange:this.onChange})]})]})}),Object(Ke.jsx)(Ut.a,{item:!0,xs:1})]}),Object(Ke.jsx)(Ht.a,{}),Object(Ke.jsxs)(Ut.a,{container:!0,style:{marginTop:"2"},children:[Object(Ke.jsx)(Ut.a,{item:!0,xs:1}),Object(Ke.jsx)(Ut.a,{item:!0,xs:3,children:Object(Ke.jsxs)(Ut.a,{container:!0,children:[Object(Ke.jsx)(zt.a,{className:"minPlusButton",color:"primary",variant:"contained","aria-label":"remove",onClick:function(){return e.changeQuantity(!1)},children:Object(Ke.jsx)(Gt.a,{fontSize:"small"})}),Object(Ke.jsx)("span",{children:this.state.quantity}),Object(Ke.jsx)(zt.a,{className:"minPlusButton",color:"primary","aria-label":"add",onClick:function(){return e.changeQuantity(!0)},children:Object(Ke.jsx)(Mt.a,{fontSize:"small"})})]})}),Object(Ke.jsx)(Ut.a,{item:!0,xs:4,children:Object(Ke.jsx)(qt.a,{color:"primary",variant:"contained",onClick:this.onAdd,className:"modalFooterButton",children:t})}),Object(Ke.jsx)(Ut.a,{xs:4,item:!0})]})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!0===e.item.custom&&void 0!==e.item.extra_ingredients&&!1===t.loaded){var a,n=[],r=s(99);for(var c in a=r.groupBy(e.item.extra_ingredients,"category"))n.push(a[c]);return{loaded:!0,item_available_ingredients:n}}return null}}]),a}(a.Component),Yt=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,ingredients:e.productReducer.ingredients}}),{})(Vt),Xt=s(189),Jt=s.n(Xt),Kt=function(e){return function(t){t({type:X,message:e})}},Zt=function(){return function(e){e({type:K})}},Qt=s(368),$t=s(344),es=s(99),ts=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={cart:[],totalPrice:0,grouped:[],selectedCategory:"1",selectedItem:{},itemToUpdate:{},showModal:!1,modalToUpdate:!1,indexToUpdate:0,pathToImages:"",showAlert:!1,alertMessage:"",continueOrder:!1,products:[],categories:[],isReady:!1},a.changeCategory=function(e){a.setState({selectedCategory:e})},a.continueOrder=function(){a.state.cart.length>0?"true"!==sessionStorage.getItem("isAuthenticated")?a.props.showInfoSnackbar("You have to login first!"):a.setState({continueOrder:!0}):a.props.showInfoSnackbar("Your cart is empty!")},a.updateCart=function(e,t,s){console.log(e,t);var n={item:e.item,options:e.options,comment:e.comment,totalPrice:e.item.price*t+e.extraPrice*t,optionAnswers:e.optionAnswers,extra_ingredients:e.extra_ingredients,quantity:t},r=a.state.cart,c=a.state.totalPrice-r[s].totalPrice+n.totalPrice;r[s]=n,a.setState({cart:r,totalPrice:c})},a.addToCart=function(e,t){var s={item:e.item,options:e.options,comment:e.comment,extraPrice:e.extraPrice,totalPrice:e.item.price*t+e.extraPrice*t,optionAnswers:e.optionAnswers,extra_ingredients:e.extra_ingredients,quantity:t};a.setState({cart:[].concat(Object(b.a)(a.state.cart),[s]),totalPrice:a.state.totalPrice+s.totalPrice})},a.removeFromCart=function(e,t){console.log(t),a.setState({cart:Object(b.a)(a.state.cart.filter((function(t,s){return s!==e}))),totalPrice:a.state.totalPrice-t.totalPrice})},a.showModal=function(e,t,s,n){var r={},c="";r=t?e.item:e,c=s?a.state.selectedCategory:r.category,a.setState({selectedItem:r,selectedCategory:c,showModal:!a.state.showModal,modalToUpdate:t,indexToUpdate:n,itemToUpdate:e})},a.changeQuantity=function(e,t){var s=Object(b.a)(a.state.cart),n=s[t],r=n.totalPrice/n.quantity,c=a.state.totalPrice;e?(n.totalPrice+=r,n.quantity+=1,c+=r):(n.totalPrice-=r,n.quantity-=1,c-=r),s[t]=n,console.log(n),0===n.quantity?(n.quantity+=1,n.totalPrice+=r,a.removeFromCart(t,n)):a.setState({cart:s,totalPrice:c})},a.showAlert=function(e,t){a.setState({showAlert:e,alertMessage:t})},a.showSearchResults=function(e){var t=e.type;if("click"===t||"keydown"===t){var s,n=e.target.textContent;"keydown"===t&&(n=e.target.value);var r=!1;for(var c in a.props.products)if(a.props.products[c].name===n){s=a.props.products[c],r=!0;break}r&&a.setState({selectedCategory:s.category},(function(){console.log(a.state.selectedCategory)}))}},a.addToCart=a.addToCart.bind(Object(l.a)(a)),a.removeFromCart=a.removeFromCart.bind(Object(l.a)(a)),a.clearCart=a.clearCart.bind(Object(l.a)(a)),a.changeCategory=a.changeCategory.bind(Object(l.a)(a)),a.showModal=a.showModal.bind(Object(l.a)(a)),a.showAlert=a.showAlert.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"clearCart",value:function(){this.setState({cart:[],totalPrice:0})}},{key:"componentWillUnmount",value:function(){this.props.update_cart(this.state.cart,this.state.totalPrice)}},{key:"componentDidMount",value:function(){if(this.props.isReady||(this.props.get_items(),this.props.get_categories(),this.props.get_ingredients()),this.props.orderReducer.products.length>0){var e=es.groupBy(this.props.products,"category"),t=this.props.categories[0].name;if(""!==this.state.searchParam)for(var s in this.props.products)if(this.props.products[s].name===this.state.searchParam){t=this.props.products[s].categroy;break}this.setState({selectedCategory:t,grouped:e,cart:this.props.orderReducer.products,totalPrice:this.props.orderReducer.totalPrice})}}},{key:"render",value:function(){var e,t=this;return this.state.showModal&&(e=Object(Ke.jsx)(Yt,{onClose:function(){return t.showModal(t.state.selectedItem,!1,!0,0)},show:this.state.showModal,item:this.state.selectedItem,update:this.state.modalToUpdate,updateItem:this.state.itemToUpdate,category:this.props.categories.filter((function(e){return e.name===t.state.selectedCategory}))[0],onAdd:this.addToCart,onUpdate:this.updateCart,index:this.state.indexToUpdate})),this.state.continueOrder?Object(Ke.jsx)(j.a,{to:"/pre_complete/".concat(sessionStorage.getItem("userID"))}):this.props.isReady?Object(Ke.jsxs)("div",{id:"orderMainPageContainer",children:[undefined,Object(Ke.jsxs)(g.a,{className:"orderMainPageRow",children:[Object(Ke.jsx)(x.a,{className:"categoriesListCol",children:Object(Ke.jsx)("div",{className:"categoriesList",children:Object(Ke.jsx)(Tt.a,{className:"categoriesListGroup",children:this.props.categories.map((function(e,s){var a=!1;return t.state.selectedCategory===e.name&&(a=!0),Object(Ke.jsx)(Tt.a.Item,{onClick:function(){return t.changeCategory(e.name)},active:a,children:e.name},s)}))})})}),Object(Ke.jsxs)(x.a,{className:"productList",xs:4,md:6,children:[Object(Ke.jsx)("div",{className:"search-bar-custom",children:Object(Ke.jsx)(Qt.a,{id:"search-product",options:this.props.products,getOptionLabel:function(e){return e.name},disableClearable:!0,autoComplete:!0,onClose:function(e){return t.showSearchResults(e)},renderOption:function(e,t){return Object(Ke.jsx)(Wt.a,{noWrap:!0,onClick:function(e){return console.log(e)},children:e.name},t)},renderInput:function(e){return Object(Ke.jsx)(ht.a,Object(Et.a)(Object(Et.a)({},e),{},{label:"Search product",variant:"outlined",InputProps:Object(Et.a)(Object(Et.a)({},e.InputProps),{},{type:"search"})}))}})}),Object(Ke.jsx)(Tt.a,{variant:"flush",children:this.props.products.map((function(e,s){return e.category===t.state.selectedCategory?!1===e.available?Object(Ke.jsx)(Tt.a.Item,{disabled:!0,id:e.name,children:Object(Ke.jsx)(Pt.a,{border:"light",children:Object(Ke.jsxs)(g.a,{className:"itemCardRow",children:[""===e.image?Object(Ke.jsx)(x.a,{sm:4,className:"itemCardImageCol"}):Object(Ke.jsxs)(x.a,{sm:4,className:"itemCardImageCol",children:[Object(Ke.jsx)(Pt.a.Img,{src:"http://localhost:8080/assets/images/".concat(e.image),className:"itemCardImage"})," "]}),Object(Ke.jsx)(x.a,{sm:8,children:Object(Ke.jsxs)(Pt.a.Body,{children:[Object(Ke.jsx)(Pt.a.Title,{className:"item-unavailable",children:e.name}),Object(Ke.jsx)(Pt.a.Subtitle,{className:"text-muted",children:e.ingredients&&e.ingredients.length>0?e.ingredients.join():e.description}),Object(Ke.jsxs)(Pt.a.Text,{children:[e.price," \u20ac"]})]})})]})})},s):Object(Ke.jsx)(Tt.a.Item,{onClick:function(){return t.showModal(e,!1,!1,0)},id:e.name,children:Object(Ke.jsx)(Pt.a,{border:"light",children:Object(Ke.jsxs)(g.a,{className:"itemCardRow",children:[""===e.image?Object(Ke.jsx)(x.a,{sm:4,className:"itemCardImageCol"}):Object(Ke.jsxs)(x.a,{sm:4,className:"itemCardImageCol",children:[Object(Ke.jsx)(Pt.a.Img,{src:"http://localhost:8080/assets/images/".concat(e.image),className:"itemCardImage"})," "]}),Object(Ke.jsx)(x.a,{sm:8,children:Object(Ke.jsxs)(Pt.a.Body,{children:[Object(Ke.jsx)(Pt.a.Title,{children:e.name}),Object(Ke.jsx)(Pt.a.Subtitle,{className:"text-muted",children:e.ingredients&&e.ingredients.length>0?e.ingredients.join():e.description}),Object(Ke.jsxs)(Pt.a.Text,{children:[e.price," \u20ac"]})]})})]})})},s):Object(Ke.jsx)("span",{},s)}))})]}),e,Object(Ke.jsx)(x.a,{className:"cart",children:Object(Ke.jsx)("div",{className:"stickyCard",children:Object(Ke.jsx)(Pt.a,{children:Object(Ke.jsxs)(Pt.a.Body,{className:"cardBody",children:[Object(Ke.jsx)(Pt.a.Title,{children:"\u03a4\u03bf \u03ba\u03b1\u03bb\u03ac\u03b8\u03b9 \u03c3\u03bf\u03c5"}),Object(Ke.jsx)("div",{className:"cartList",children:this.state.cart.length>0?Object(Ke.jsx)(Tt.a,{children:this.state.cart.map((function(e,s){return Object(Ke.jsx)(Tt.a.Item,{className:"cardItem",children:Object(Ke.jsxs)(Pt.a,{border:"light",children:[Object(Ke.jsx)(Pt.a.Header,{style:{backgroundColor:"white"},children:Object(Ke.jsxs)(g.a,{className:"headerItem",children:[Object(Ke.jsx)("div",{onClick:function(){return t.showModal(e,!0,!1,s)},className:"cartItemName",children:e.item.name}),Object(Ke.jsxs)("div",{className:"cartItemPrice",children:[e.totalPrice/e.quantity," ","\u20ac"]})]})}),Object(Ke.jsx)(Pt.a.Body,{children:Object(Ke.jsxs)(g.a,{className:"bodyItem",children:[e.optionAnswers.length>0?Object(Ke.jsx)("div",{className:"cartItemOptions",children:Object(Ke.jsx)("p",{children:e.optionAnswers.join()+",".concat(e.comment)})}):Object(Ke.jsx)("div",{className:"cartItemOptions",children:e.comment}),Object(Ke.jsx)("ul",{className:"ingredientCartList",children:e.extra_ingredients.length>0?e.extra_ingredients.map((function(e,t){return Object(Ke.jsxs)("li",{style:{textAlign:"left"},children:["+ ",e]},t)})):Object(Ke.jsx)("span",{})})]})}),Object(Ke.jsx)(Pt.a.Footer,{style:{backgroundColor:"white"},children:Object(Ke.jsxs)(Ut.a,{direction:"row",container:!0,children:[Object(Ke.jsxs)(Ut.a,{item:!0,justify:"flex-start",xs:9,children:[Object(Ke.jsx)(zt.a,{className:"minPlusButton",color:"primary",variant:"contained","aria-label":"remove",onClick:function(){return t.changeQuantity(!1,s)},children:Object(Ke.jsx)(Gt.a,{fontSize:"small"})}),Object(Ke.jsx)("span",{children:e.quantity}),Object(Ke.jsx)(zt.a,{className:"minPlusButton",color:"primary",variant:"contained","aria-label":"add",onClick:function(){return t.changeQuantity(!0,s)},children:Object(Ke.jsx)(Mt.a,{fontSize:"small"})})]}),Object(Ke.jsx)(Ut.a,{item:!0,xs:3,children:Object(Ke.jsx)(zt.a,{className:"removeButton minPlusButton",color:"secondary",variant:"contained","aria-label":"remove",onClick:function(){return t.removeFromCart(s,e)},children:Object(Ke.jsx)(Jt.a,{fontSize:"small"})})})]})})]})},s)}))}):Object(Ke.jsx)(Pt.a.Text,{children:"\u03a4\u03bf \u03ba\u03b1\u03bb\u03ac\u03b8\u03b9 \u03b5\u03af\u03bd\u03b1\u03b9 \u03ac\u03b4\u03b5\u03b9\u03bf"})}),Object(Ke.jsx)("hr",{}),Object(Ke.jsxs)(g.a,{children:[Object(Ke.jsx)(x.a,{children:Object(Ke.jsx)(Pt.a.Text,{children:"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf"})}),Object(Ke.jsx)(x.a,{children:Object(Ke.jsxs)(Pt.a.Text,{children:[" ",this.state.totalPrice," \u20ac"]})})]}),Object(Ke.jsx)(qt.a,{variant:"primary",className:"cartButton",onClick:this.continueOrder,children:"\u03a3\u03c5\u03bd\u03ad\u03c7\u03b5\u03b9\u03b1"}),Object(Ke.jsx)("br",{}),Object(Ke.jsx)(Pt.a.Text,{style:{textDecoration:"underline",cursor:"pointer"},onClick:this.clearCart,children:"\u0386\u03b4\u03b5\u03b9\u03b1\u03c3\u03bc\u03b1"})]})})})})]})]}):Object(Ke.jsxs)("div",{className:"loading-div",children:[Object(Ke.jsx)($t.a,{disableShrink:!0})," "]})}}]),s}(a.Component),ss=Object(p.b)((function(e){return{orderReducer:e.orderReducer,products:e.productReducer.products,categories:e.productReducer.categories,userReducer:e.userReducer,isReady:e.productReducer.isReady}}),{update_cart:function(e,t){return function(s){s({type:xe,new_order:e,total_price:t})}},showInfoSnackbar:function(e){return function(t){t({type:J,message:e})}},GetAsyncItems:Pe,GetAsyncCategories:De,get_items:we,get_ingredients:Re,get_categories:ke})(ts),as=s(369),ns=s(190),rs=(s(112),s(142)),cs=function(e){return function(t){var s=e;w.a.put("http://localhost:8080/user/update",s,{headers:{"Content-Type":"application/json"}}).then((function(e){t({type:D,payload:e.data}),t({type:Y,message:"User updated successfully"})})).catch((function(e){console.log(e.response),t(Ne(e,e.status)),t({type:X,message:e.response.data.message})}))}},is=function(e){return function(t){w.a.get("http://localhost:8080/user/".concat(e),{headers:{"Content-Type":"application/json"}}).then((function(e){t({type:M,payload:e.data})})).catch((function(e){console.log(e.response),t(Ne(e,e.status))}))}},os=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.state={email:"",name:"",surname:"",phone:"",newPassword:"",newPassword2:""},a.onUpdateSubmit=a.onUpdateSubmit.bind(Object(l.a)(a)),a.onSubmit=a.onSubmit.bind(Object(l.a)(a)),a.onChangePasswordSubmit=a.onChangePasswordSubmit.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){if(!1===this.props.userReducer.isAuthenticated)return Object(Ke.jsx)(j.a,{to:"/home"});!1===this.props.userReducer.hasLoaded&&this.props.getUser(this.props.userReducer.user.id),this.setState({name:this.props.userReducer.user.name,surname:this.props.userReducer.user.surname,phone:this.props.userReducer.user.phone,email:this.props.userReducer.user.email})}},{key:"onChangePasswordSubmit",value:function(e){e.preventDefault();var t={id:this.props.userReducer.user.id,password:this.state.newPassword,reason:"change_password"};this.props.updateUser(t)}},{key:"onUpdateSubmit",value:function(e){e.preventDefault();var t={id:this.props.userReducer.user.id,user:{name:this.state.name,surname:this.state.surname,email:this.state.email,phone:this.state.phone},reason:"update_user"};this.props.updateUser(t)}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log(this.state)}},{key:"render",value:function(){return"false"===sessionStorage.getItem("isAuthenticated")?Object(Ke.jsx)(j.a,{to:"/home"}):Object(Ke.jsxs)(O.a,{className:"accountMainPage",children:[Object(Ke.jsx)(g.a,{className:"headerRow",children:Object(Ke.jsx)(as.a,{className:"user-nav-bar",children:Object(Ke.jsxs)(ns.a,{className:"mr-auto",children:[Object(Ke.jsx)(Ot.b,{className:"nav-text nav-text-activated",to:"/account",children:"\u039f \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03cc\u03c2 \u03bc\u03bf\u03c5"}),Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account/orders",children:"\u039f\u03b9 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2 \u03bc\u03bf\u03c5"}),Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account/addresses",children:"\u0394\u03b9\u03b5\u03c5\u03b8\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2"}),Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account/ratings",children:"\u0392\u03b1\u03b8\u03bc\u03bf\u03bb\u03bf\u03b3\u03af\u03b5\u03c2"})]})})}),Object(Ke.jsx)(g.a,{className:"userProfileRow bodyRow",children:Object(Ke.jsxs)("div",{className:"roundedContainer userProfileContainer",children:[Object(Ke.jsx)("h4",{children:" Change your values"}),Object(Ke.jsxs)(m.a,{onSubmit:this.onUpdateSubmit,children:[Object(Ke.jsxs)(m.a.Row,{children:[Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formGridName",children:[Object(Ke.jsx)(m.a.Label,{children:"Name"}),Object(Ke.jsx)(m.a.Control,{onChange:this.onChange,type:"text",name:"name",value:this.state.name,placeholder:"Enter Name"})]}),Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formGridLastName",children:[Object(Ke.jsx)(m.a.Label,{children:"Last Name"}),Object(Ke.jsx)(m.a.Control,{onChange:this.onChange,type:"text",name:"surname",value:this.state.surname,placeholder:"Enter Last Name"})]})]}),Object(Ke.jsxs)(m.a.Row,{children:[Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formGridEmail",children:[Object(Ke.jsx)(m.a.Label,{children:"Email"}),Object(Ke.jsx)(m.a.Control,{onChange:this.onChange,type:"email",name:"email",value:this.state.email,placeholder:"Enter email"})]}),Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formGridPhone",children:[Object(Ke.jsx)(m.a.Label,{children:"Phone"}),Object(Ke.jsx)(m.a.Control,{type:"tel",placeholder:"Enter phone: 69xxxxxxxx",name:"phone",pattern:"69[0-9]{8}",value:this.state.phone,onChange:this.onChange})]})]}),Object(Ke.jsx)(y.a,{variant:"primary",type:"submit",children:"Update"})]}),Object(Ke.jsx)("h4",{children:" Change your password"}),Object(Ke.jsxs)(m.a,{onSubmit:this.onChangePasswordSubmit,children:[Object(Ke.jsxs)(m.a.Row,{children:[Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formPassword",children:[Object(Ke.jsx)(m.a.Label,{children:"New Password"}),Object(Ke.jsx)(m.a.Control,{onChange:this.onChange,type:"text",name:"newPassword",placeholder:"Enter Password"})]}),Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formPassword2",children:[Object(Ke.jsx)(m.a.Label,{children:"Repeat Password"}),Object(Ke.jsx)(m.a.Control,{onChange:this.onChange,type:"text",name:"newPassword2",placeholder:"Repeat Password"})]})]}),Object(Ke.jsx)(y.a,{variant:"primary",type:"submit",children:"Update"})]})]})})]})}}]),s}(a.Component),ds=Object(p.b)((function(e){return{userReducer:e.userReducer}}),{updateUser:cs,getUser:is})(os),ls=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).onDelete=function(){var e=a.state.item.id;a.props.delete_item(e,"product")},a.onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.onFileChange=function(e){console.log(e.target.files[0]),a.setState({image:e.target.files[0]})},a.handleToggle=function(e){var t=a.state.extra_ingredients.indexOf(e),s=Object(b.a)(a.state.extra_ingredients);-1===t?s.push(e):s.splice(t,1),a.setState({extra_ingredients:s})},a.handleChoiceToggle=function(e){var t=a.state.checkedChoices.indexOf(e),s=Object(b.a)(a.state.checkedChoices);-1===t?s.push(e):s.splice(t,1),a.setState({checkedChoices:s}),console.log(s)},a.state={id:0,name:"",price:0,category:"",description:"",filename:"Choose product image *",source:"",image:null,extra_ingredients:[""],checkedChoices:[-1],hasIngredients:!1,showChoices:!1,isCustom:!1,choices:[]},a.onChange=a.onChange.bind(Object(l.a)(a)),a.onSubmit=a.onSubmit.bind(Object(l.a)(a)),a.onDelete=a.onDelete.bind(Object(l.a)(a)),a.onChangeCheck=a.onChangeCheck.bind(Object(l.a)(a)),a.onCustomChange=a.onCustomChange.bind(Object(l.a)(a)),a.onFileChange=a.onFileChange.bind(Object(l.a)(a)),a.handleChoiceToggle=a.handleChoiceToggle.bind(Object(l.a)(a)),a.handleToggle=a.handleToggle.bind(Object(l.a)(a)),a.showChoices=a.showChoices.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"componentWillMount",value:function(){var e=this.props.location.state.item;this.setState({id:e.id,name:e.name,price:e.price,category:e.category,description:e.description,filename:e.image,choices:e.choices,isCustom:e.custom})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={id:this.state.id,name:this.state.name,description:this.state.description,price:parseFloat(this.state.price),category:this.state.category,ingredients:this.state.extra_ingredients.slice(1),choices:[],custom:this.state.isCustom};for(var s in this.state.checkedChoices)-1!==this.state.checkedChoices[s]&&t.choices.push(this.props.choices[this.state.checkedChoices[s]]);this.props.update_item(t.id,t,"update_product"),this.setState({name:"",price:0,category:"Kafedes",description:"",filename:"Choose product image *",source:"",image:null,extra_ingredients:[""],checkedChoices:[-1],hasIngredients:!1,showChoices:!1,isCustom:!1,choices:[]})}},{key:"onChangeCheck",value:function(){this.setState({hasIngredients:!this.state.hasIngredients}),"block"===document.getElementById("ingredient-list").style.display?document.getElementById("ingredient-list").style.display="none":document.getElementById("ingredient-list").style.display="block"}},{key:"onCustomChange",value:function(){this.setState({isCustom:!this.state.isCustom})}},{key:"showChoices",value:function(e){e.preventDefault(),this.setState({showChoices:!this.state.showChoices})}},{key:"render",value:function(){var e=this;return Object(Ke.jsxs)(m.a,{onSubmit:this.onSubmit,children:[Object(Ke.jsxs)(m.a.Group,{controlId:"name",children:[Object(Ke.jsx)(m.a.Label,{children:"Item Name"}),Object(Ke.jsx)(m.a.Control,{type:"text",placehodler:"Enter name",defaultValue:this.state.name,name:"name",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"description",children:[Object(Ke.jsx)(m.a.Label,{children:"Item description"}),Object(Ke.jsx)(m.a.Control,{type:"text",defaultValue:this.state.description,placeholder:"Enter desc",name:"description",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"price",children:[Object(Ke.jsx)(m.a.Label,{children:"Item price"}),Object(Ke.jsx)(m.a.Control,{type:"number",step:"0.01",defaultValue:this.state.price,autoComplete:"false",placeholder:"Enter price",name:"price",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"category",children:[Object(Ke.jsx)(m.a.Label,{children:"Category"}),Object(Ke.jsx)(m.a.Control,{as:"select",name:"category",defaultValue:this.state.category,onChange:this.onChange,children:this.props.categories.map((function(e,t){return Object(Ke.jsx)("option",{children:e.name},t)}))})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"choices",children:[Object(Ke.jsxs)(Be.a,{button:!0,onClick:this.showChoices,children:[Object(Ke.jsx)(Ue.a,{primary:"Select choices"}),this.state.showChoices?Object(Ke.jsx)(Ye.a,{}):Object(Ke.jsx)(Je.a,{})]}),Object(Ke.jsx)(He.a,{in:this.state.showChoices,timeout:"auto",unmountOnExit:!0,children:Object(Ke.jsx)(Ge.a,{component:"div",disablePadding:!0,children:this.props.choices.map((function(t,s){var a="choice-item-".concat(t.name);return Object(Ke.jsx)(Be.a,{role:void 0,dense:!0,button:!0,onClick:function(){return e.handleChoiceToggle(s)},children:Object(Ke.jsxs)(Fe.a,{children:[Object(Ke.jsx)(qe.a,{edge:"start",checked:-1!==e.state.checkedChoices.indexOf(s),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}}),Object(Ke.jsx)(Ue.a,{id:a,primary:"".concat(t.name)})]})},s)}))})})]}),Object(Ke.jsx)(m.a.Group,{controlId:"customProduct",children:Object(Ke.jsx)(We.a,{control:Object(Ke.jsx)(qe.a,{checked:this.state.isCustom,onChange:this.onCustomChange,name:"isCustom",color:"primary"}),label:"Is product custom?"})}),Object(Ke.jsxs)(m.a.Group,{controlId:"ingredients",children:[Object(Ke.jsx)(We.a,{control:Object(Ke.jsx)(qe.a,{checked:this.state.hasIngredients,onChange:this.onChangeCheck,name:"hasIngredients",color:"primary"}),label:"Has ingredients"}),Object(Ke.jsx)(Ge.a,{style:{display:"none"},className:"create-item-ingredient-list",id:"ingredient-list",subhead:Object(Ke.jsx)("li",{}),children:this.props.ingredients.map((function(t,s){return Object(Ke.jsx)("li",{children:Object(Ke.jsxs)("ul",{children:[Object(Ke.jsx)(ze.a,{children:"".concat(t[0].category)}),t.map((function(t,s){var a="ingredient-item-".concat(t.name);return Object(Ke.jsx)(Be.a,{role:void 0,dense:!0,button:!0,onClick:function(){return e.handleToggle(t.name)},children:Object(Ke.jsxs)(Fe.a,{children:[Object(Ke.jsx)(qe.a,{edge:"start",checked:-1!==e.state.extra_ingredients.indexOf(t.name),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}}),Object(Ke.jsx)(Ue.a,{id:a,primary:"".concat(t.name)})]})},s)}))]})},s)}))})]}),Object(Ke.jsx)(m.a.Group,{controlId:"name",children:Object(Ke.jsx)(m.a.File,{id:"custom-file",label:"Custom file input",custom:!0,onChange:this.onFileChange})}),Object(Ke.jsx)(y.a,{variant:"primary",type:"submit",children:"Update"}),Object(Ke.jsx)(y.a,{variant:"danger",onClick:this.onDelete,children:"DELETE"})]})}}]),s}(a.Component),hs=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,categories:e.productReducer.categories,choices:e.productReducer.choices,ingredients:e.productReducer.ingredients}}),{update_item:Se,delete_item:Te})(ls),us=s(286),js=s(291),ps=s(289),bs=s(345),ms=s(346),Os=s(108),gs=s.n(Os),xs=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleChange=function(e){a.setState({address:e})},a.handleSelect=function(e){Object(Os.geocodeByAddress)(e).then((function(e){return a.saveResults(e)})).then((function(e){return Object(Os.getLatLng)(e[0])})).then((function(e){return a.setState({latitude:e.lat,longitude:e.lng})})).then((function(e){return console.log("Success",a.state)})).catch((function(e){return console.error("Error",e)}))},a.saveResults=function(e){console.log(e);var t=e[0].address_components;return a.setState({address:e[0].formatted_address,addressName:t[1].long_name,addressNumber:t[0].short_name,areaName:t[2].long_name,zipCode:t[5].long_name}),e},a.showEditModal=function(){a.setState({showEditModal:!a.state.showEditModal})},a.state={address:"",addressName:"",addressNumber:"",zipCode:"",cityName:"",areaName:"",completeAddress:{},latitude:0,longitude:0,showErrorModal:!1,showEditModal:!1,errorMessage:""},a.onAddAddress=a.onAddAddress.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"componentWillUnmount",value:function(){this.setState({address:"",addressName:"",addressNumber:"",areaName:"",zipCode:""})}},{key:"onAddAddress",value:function(e){e.preventDefault();var t={id:this.props.userReducer.user.id,address:{area_name:this.state.areaName,address_name:this.state.addressName,address_number:this.state.addressNumber,zipcode:this.state.zipCode,latitude:this.state.latitude,longitude:this.state.longitude},reason:"add_address"};this.props.editAddress&&this.props.editAddress(!1,!0,t.address)}},{key:"closeModal",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e={};return e=this.props.displayModal?{display:"block"}:{display:"none"},Object(Ke.jsx)("div",{className:"modal ",onClick:this.props.closeModal,style:e,children:Object(Ke.jsxs)("div",{className:"modal-content address-modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(Ke.jsxs)("div",{className:"modal-content-header",children:[Object(Ke.jsx)("span",{className:"modal-content-header-title",children:"Add new address"}),Object(Ke.jsx)("span",{className:"close",onClick:this.props.closeModal,children:"\xd7"})]}),Object(Ke.jsx)("div",{className:"modal-content-body",children:Object(Ke.jsx)(gs.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:{componentRestrictions:{country:"gr"}},children:function(e){var t=e.getInputProps,s=e.suggestions,n=e.getSuggestionItemProps,r=e.loading;return Object(Ke.jsxs)("div",{className:"autocomplete-div",children:[Object(Ke.jsx)("input",Object(Et.a)({},t({placeholder:"Search Places ...",className:"location-search-input"}))),Object(Ke.jsxs)("div",{className:"autocomplete-dropdown-container",children:[r&&Object(Ke.jsx)("div",{children:"Loading..."}),s.map((function(e,t){var s=e.active?"suggestion-item--active":"suggestion-item",r=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(a.createElement)("div",Object(Et.a)(Object(Et.a)({},n(e,{className:s,style:r})),{},{key:t}),Object(Ke.jsx)("span",{children:e.description}))}))]})]})}})}),Object(Ke.jsx)("div",{className:"modal-content-footer",children:Object(Ke.jsx)(y.a,{onClick:this.onAddAddress,className:"modal-content-footer-button",children:"\u03a3\u03c5\u03bd\u03ad\u03c7\u03b5\u03b9\u03b1"})})]})})}}]),s}(a.Component),fs=Object(p.b)((function(e){return{userReducer:e.userReducer}}),{updateUser:cs})(xs),ys=s(202),vs=(s(266),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={color:"",name:"",id:""},a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.color,t=this.props.name;return Object(Ke.jsxs)("div",{children:[Object(Ke.jsx)("div",{className:"pin bounce",style:{backgroundColor:e,cursor:"pointer"},title:t}),Object(Ke.jsx)("div",{className:"pulse"})]})}}]),s}(a.Component)),Cs=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault()},a.state={address:"",addressName:"",addressNumber:"",zipCode:"",cityName:"",areaName:"",text:"",center:{lat:0,lng:0},zoom:17},a.onAddAddress=a.onAddAddress.bind(Object(l.a)(a)),a.onSubmit=a.onSubmit.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e;e=this.props.updateAddress?"\u0395\u03bd\u03b7\u03bc\u03ad\u03c1\u03c9\u03c3\u03b7":"\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7",console.log(this.props.address);var t=this.props.address;0===t.latitude&&(t.latitude=37.892267385003336),0===t.longitude&&(t.longitude=23.749797071179643),this.setState({address:t.address,addressName:t.address_name,addressNumber:t.address_number,areaName:t.area_name,zipCode:t.zipcode,text:e,center:{lat:t.latitude,lng:t.longitude}})}},{key:"onAddAddress",value:function(e){e.preventDefault();var t=document.getElementById("formGridAddressName").value,s=document.getElementById("formGridAddressNumber").value,a=document.getElementById("formGridAreaName").value,n=document.getElementById("formGridZipCode").value,r={id:this.props.userReducer.user.id,address_id:"",address:{area_name:a,address_name:t,address_number:s,zipcode:n},reason:"",index:0};this.props.updateAddress?(r.reason="update_address",r.address_id=this.props.address.id):r.reason="add_address",console.log(r),this.props.updateUser(r),this.setState({address:"",addressName:"",addressNumber:"",zipCode:"",cityName:"",areaName:""}),this.props.closeModal()}},{key:"closeModal",value:function(e){this.setState({address:"",addressName:"",addressNumber:"",zipCode:"",cityName:"",areaName:""}),e.stopPropagation()}},{key:"render",value:function(){var e={};return e=this.props.displayModal?{display:"block"}:{display:"none"},Object(Ke.jsx)("div",{className:"modal addressModal",onClick:this.props.closeModal,style:e,children:Object(Ke.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(Ke.jsxs)("div",{className:"modal-content-header",children:[Object(Ke.jsx)("span",{className:"modal-content-header-title",children:"Edit Address"}),Object(Ke.jsx)("span",{className:"close",onClick:this.props.closeModal,children:"\xd7"})]}),Object(Ke.jsxs)("div",{className:"modal-content-body",children:[Object(Ke.jsx)("div",{className:"modal-content-body-col left-col",children:Object(Ke.jsxs)(m.a,{onSubmit:this.onSubmit,children:[Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formGridAddressName",children:[Object(Ke.jsx)(m.a.Label,{children:"Address Name"}),Object(Ke.jsx)(m.a.Control,{onChange:this.onChange,type:"text",name:"addressName",value:this.state.addressName,placeholder:"Address Name"})]}),Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formGridAddressNumber",children:[Object(Ke.jsx)(m.a.Label,{children:"Address Number"}),Object(Ke.jsx)(m.a.Control,{onChange:this.onChange,type:"text",name:"addressNumber",value:this.state.addressNumber,placeholder:"Address Number"})]}),Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formGridAreaName",children:[Object(Ke.jsx)(m.a.Label,{children:"Area Name"}),Object(Ke.jsx)(m.a.Control,{onChange:this.onChange,type:"text",name:"areaName",value:this.state.areaName,placeholder:"Area Name"})]}),Object(Ke.jsxs)(m.a.Group,{as:x.a,controlId:"formGridZipCode",children:[Object(Ke.jsx)(m.a.Label,{children:"Zip Code"}),Object(Ke.jsx)(m.a.Control,{onChange:this.onChange,type:"text",name:"zipCode",value:this.state.zipCode,placeholder:"Zip Code"})]})]})}),Object(Ke.jsx)("div",{className:"modal-content-body-col right-col",children:Object(Ke.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(Ke.jsx)(ys.a,{defaultCenter:this.state.center,defaultZoom:this.state.zoom,children:Object(Ke.jsx)(vs,{eventHandlers:this.eventHandlers,lat:this.state.center.lat,lng:this.state.center.lng,draggable:!0,name:"Here",color:"blue"})})})})]}),Object(Ke.jsx)("div",{className:"modal-content-footer",children:Object(Ke.jsx)(y.a,{onClick:this.onAddAddress,className:"modal-content-footer-button",children:this.state.text})})]})})}}]),s}(a.Component),_s=Object(p.b)((function(e){return{userReducer:e.userReducer}}),{updateUser:cs})(Cs),Ns=s(180),ws=[.5,1,1.5,2,5,10],Ss=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handlePaymentChange=function(e){switch(e){case"cash":document.getElementById("tip-div").style.display="block",a.setState({payWithCard:!1,payWithCash:!0,payWithPaypal:!1,payment_type:"cash"});break;case"card":document.getElementById("tip-div").style.display="none",a.setState({payWithCard:!0,payWithCash:!1,payWithPaypal:!1,payment_type:"card"});break;case"paypal":document.getElementById("tip-div").style.display="none",a.setState({payWithCard:!1,payWithCash:!1,payWithPaypal:!0,payment_type:"paypal"})}},a.selectAddressModal=function(e,t,s){console.log(e,t,s),a.setState({showAddressModal:e,showEditModal:t,selectedAddress:s})},a.sendOrder=function(e){var t={products:a.props.orderReducer.products,user_id:a.props.userReducer.user.id,delivery_type:a.state.deliveryOption,pre_discount_price:a.props.orderReducer.totalPrice,payment_type:a.state.payment_type,tips:parseFloat(a.state.tips),comments:a.state.comments,user_details:{name:a.props.userReducer.user.name,surname:a.props.userReducer.user.surname,address:a.state.selectedAddress,phone:a.state.phone,bell_name:a.state.userDetails.bellName,floor:a.state.userDetails.floor}};a.validateFields(t)&&a.props.send_order(t)},a.validateFields=function(e){var t=new RegExp(/^69[0-9]{8}/),s=new RegExp(/^21[0-9]{8}/);return""===e.delivery_type?(a.props.showErrorSnackbar("Please select delivery type"),!1):""===e.payment_type?(a.props.showErrorSnackbar("Please select payment type"),!1):""===e.user_details.address?(a.props.showErrorSnackbar("Please select an adress"),!1):""===e.user_details.floor||""===e.user_details.bell_name?(a.props.showErrorSnackbar("Please enter floor and bell name"),!1):!(!1===t.test(e.user_details.phone)&&!1===s.test(e.user_details.phone)||e.user_details.length>10)||(a.props.showErrorSnackbar("Please enter valid phone number"),!1)},a.onChange=function(e){var t=a.state.userDetails;switch(e.target.name){case"comment":a.setState({comments:e.target.value});break;case"bellName":t.bellName=e.target.value,a.setState({userDetails:t});break;case"floorNumber":t.floor=e.target.value,a.setState({userDetails:t});break;case"phone":a.setState({phone:e.target.value})}},a.onSelectChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.onAddressChange=function(e){a.setState({selectedAddress:a.props.userReducer.user.addresses[e.target.value]})},a.showEditModal=function(e){a.setState({showEditModal:e})},a.eventSource=new EventSource("http://localhost:8080/sse/events/".concat(e.match.params.id)),a.state={id:0,availableAddress:[],payment_type:"Cash",payWithCard:!1,payWithCash:!0,payWithPaypal:!1,deliveryOption:"Delivery",userDetails:{bellName:"",floor:""},selectedAddress:{},tips:"0",comments:"",showAddressModal:!1,showEditModal:!1,phone:"",orderStatus:{accepted:!1,timeToDelivery:0,send:!1,awaiting:!1},hasLoaded:!1},a.onSelectChange=a.onSelectChange.bind(Object(l.a)(a)),a.onChange=a.onChange.bind(Object(l.a)(a)),a.recieveOrder=a.recieveOrder.bind(Object(l.a)(a)),a.sendOrder=a.sendOrder.bind(Object(l.a)(a)),a.handlePaymentChange=a.handlePaymentChange.bind(Object(l.a)(a)),a.handleTipsChange=a.handleTipsChange.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"handleTipsChange",value:function(e){this.setState({tips:e})}},{key:"recieveOrder",value:function(e){var t=JSON.parse(e.data);console.log(t),this.props.order_accepted(t.time)}},{key:"componentDidMount",value:function(){var e=this;if(this.eventSource.onmessage=function(t){return e.recieveOrder(t)},console.log(this.props),null!==this.props.userReducer.user&&(this.props.userReducer.user.addresses.length>0&&this.setState({selectedAddress:this.props.userReducer.user.addresses[0]}),null!==this.props.userReducer.user.last_order)){var t=this.state.userDetails,s=this.props.userReducer.user.last_order;t.bellName=s.user_details.Bell_name,t.floor=s.user_details.Floor,this.setState({userDetails:t,phone:s.user_details.Phone})}}},{key:"componentWillUnmount",value:function(){this.props.orderReducer.sent&&!this.props.orderReducer.pending&&this.props.clearReducer()}},{key:"render",value:function(){var e,t,s=this;return"true"===sessionStorage.getItem("isAuthenticated")?(this.state.showAddressModal&&(e=Object(Ke.jsx)(fs,{displayModal:this.state.showAddressModal,closeModal:function(){return s.selectAddressModal(!1,!1,"")},editAddress:function(e,t,a){return s.selectAddressModal(e,t,a)}})),this.state.showEditModal&&(t=Object(Ke.jsx)(_s,{address:this.state.selectedAddress,updateAddress:!1,displayModal:this.state.showEditModal,closeModal:function(){return s.showEditModal(!1)}})),this.props.orderReducer.pending&&!this.props.orderReducer.recieved?(console.log("3"),Object(Ke.jsxs)("div",{className:"loading-div",children:[Object(Ke.jsx)($t.a,{disableShrink:!0})," "]})):this.props.orderReducer.sent&&!this.props.orderReducer.pending?(console.log(this.props.orderReducer.timeToDelivery),Object(Ke.jsxs)("div",{className:"loading-div",children:["Your order has been"," ",this.props.orderReducer.accepted?Object(Ke.jsx)("p",{children:"accepted"}):Object(Ke.jsx)("p",{children:"declined"}),this.props.orderReducer.accepted?Object(Ke.jsxs)("span",{children:["It will be there in ",this.props.orderReducer.timeToDelivery]}):Object(Ke.jsx)("span",{}),Object(Ke.jsx)(Ot.b,{to:"/home",children:Object(Ke.jsx)(qt.a,{children:"OK"})})]})):Object(Ke.jsxs)("div",{className:"pre-order-container",children:[Object(Ke.jsxs)("div",{className:"pre-order-container-body",children:[Object(Ke.jsx)("div",{className:"pre-order-col pre-order-user-details",children:Object(Ke.jsxs)("div",{className:"pre-order-col-container",children:[Object(Ke.jsx)("div",{className:"pre-order-col-title",children:"1. User Details"}),Object(Ke.jsx)("div",{className:"pre-order-col-subdiv",children:Object(Ke.jsxs)(us.a,{className:"selectDeliveryControl",children:[Object(Ke.jsx)(js.a,{id:"selectDeliveryLabel",children:"\u03a4\u03c1\u03cc\u03c0\u03bf\u03c2 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b1\u03c2"}),Object(Ke.jsxs)(ps.a,{labelId:"selectDeliveryLabel",id:"selectDelivery",name:"deliveryOption",onChange:this.onSelectChange,required:!0,defaultValue:"Delivery",children:[Object(Ke.jsx)(bs.a,{value:"Delivery",children:"Delivery"}),Object(Ke.jsx)(bs.a,{value:"TakeAway",children:"\u03a0\u03b1\u03c1\u03b1\u03bb\u03b1\u03b2\u03ae \u03b1\u03c0\u03bf \u03c4\u03bf \u03ba\u03b1\u03c4\u03ac\u03c3\u03c4\u03b7\u03bc\u03b1"})]})]})}),Object(Ke.jsx)("div",{className:"pre-order-col-subdiv",children:Object(Ke.jsxs)(us.a,{className:"selectAddressControl",children:[Object(Ke.jsx)(js.a,{id:"selectAddressLabel",children:"Select Address"}),Object(Ke.jsxs)(ps.a,{labelId:"selectAddressLabel",id:"selectAddress",name:"selectedAddress",value:this.props.userReducer.user.addresses.length>0?"0":"",onChange:this.onAddressChange,required:!0,children:[this.props.userReducer.user.addresses.map((function(e,t){return Object(Ke.jsxs)(bs.a,{value:t,children:[e.address_name," ",e.address_number,","," ",e.area_name]},t)})),Object(Ke.jsx)(bs.a,{onClick:function(){return s.selectAddressModal(!0,!1,"")},children:"Add new"})]})]})}),Object(Ke.jsx)("div",{className:"pre-order-col-subdiv",children:Object(Ke.jsxs)("form",{className:"pre-order-info-form",children:[Object(Ke.jsx)("div",{className:"pre-order-info-form-row",children:Object(Ke.jsx)(ht.a,{id:"bellName",name:"bellName",value:this.state.userDetails.bellName,label:"\u039a\u03bf\u03c5\u03b4\u03bf\u03cd\u03bd\u03b9 *",variant:"outlined",placeholder:"\u038c\u03bd\u03bf\u03bc\u03b1 \u03c3\u03c4\u03bf \u03ba\u03bf\u03c5\u03b4\u03bf\u03cd\u03bd\u03b9",className:"pre-complete-input",onChange:this.onChange})}),Object(Ke.jsxs)("div",{className:"pre-order-info-form-row",children:[Object(Ke.jsx)("div",{className:"form-custom-row-group",children:Object(Ke.jsx)(ht.a,{id:"floorNumber",name:"floorNumber",label:"\u038c\u03c1\u03bf\u03c6\u03bf\u03c2 *",value:this.state.userDetails.floor,variant:"outlined",placeholder:"\u038c\u03c1\u03bf\u03c6\u03bf\u03c2",className:"pre-complete-input",onChange:this.onChange})}),Object(Ke.jsx)("div",{className:"form-custom-row-group",children:Object(Ke.jsx)(ht.a,{id:"phone",type:"tel",name:"phone",inputProps:{pattern:"69[0-9]{8}"},label:"\u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2",value:this.state.phone,variant:"outlined",placeholder:"\u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2: 69xxxxxxxx",className:"pre-complete-input",onChange:this.onChange})})]}),Object(Ke.jsx)("div",{className:"pre-order-info-form-row",children:Object(Ke.jsx)(ht.a,{id:"comments",name:"comment",label:"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1",variant:"outlined",placeholder:"\u0388\u03be\u03c4\u03c1\u03b1 \u03c3\u03c7\u03cc\u03bb\u03b9\u03b1",rows:4,multiline:!0,className:"pre-complete-input",onChange:this.onChange})})]})})]})}),Object(Ke.jsx)("div",{className:"pre-order-col pre-order-payment-details",children:Object(Ke.jsxs)("div",{className:"pre-order-col-container",children:[Object(Ke.jsx)("div",{className:"pre-order-col-title",children:"2. Payment Options"}),Object(Ke.jsx)("div",{className:"pre-order-col-subdiv",children:Object(Ke.jsx)(We.a,{control:Object(Ke.jsx)(qe.a,{checked:this.state.payWithCard,onChange:function(){return s.handlePaymentChange("card")},name:"Card"}),label:"Credit Card"})}),Object(Ke.jsx)("div",{className:"pre-order-col-subdiv",children:Object(Ke.jsx)(We.a,{control:Object(Ke.jsx)(qe.a,{checked:this.state.payWithPaypal,onChange:function(){return s.handlePaymentChange("paypal")},name:"Paypal"}),label:"Paypal"})}),Object(Ke.jsx)("div",{className:"pre-order-col-subdiv",children:Object(Ke.jsx)(We.a,{control:Object(Ke.jsx)(qe.a,{checked:this.state.payWithCash,onChange:function(){return s.handlePaymentChange("cash")},name:"Cash"}),label:"Cash"})}),Object(Ke.jsx)("div",{className:"pre-order-col-subdiv",id:"tip-div",style:{display:"block"},children:Object(Ke.jsxs)(us.a,{children:[Object(Ke.jsx)(Ns.a,{children:"Select Tips"}),Object(Ke.jsx)(ms.a,{row:!0,children:ws.map((function(e,t){var a=!1;return s.state.tips===e&&(a=!0),Object(Ke.jsx)(We.a,{value:String(e),control:Object(Ke.jsx)(qe.a,{checked:a,name:e.toString(),onChange:function(){return s.handleTipsChange(e)}}),label:e},t)}))})]})})]})}),Object(Ke.jsx)("div",{className:"pre-order-col pre-order-complete-order",children:Object(Ke.jsxs)("div",{className:"pre-order-col-container",children:[Object(Ke.jsx)("div",{className:"pre-order-col-title",children:"3. Complete Order"}),Object(Ke.jsxs)("div",{className:"pre-order-col-subdiv",children:[Object(Ke.jsxs)("span",{children:["\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf: ",this.props.orderReducer.totalPrice," \u20ac"]}),Object(Ke.jsx)("br",{}),Object(Ke.jsxs)("button",{className:"complete-order-button",type:"submit",onClick:this.sendOrder,children:["\u0391\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae"," "]})]}),Object(Ke.jsxs)("div",{className:"pre-order-col-subdiv",children:[Object(Ke.jsx)(Ge.a,{className:"pre-order-item-list",children:this.props.orderReducer.products.map((function(e,t){return Object(Ke.jsx)(Be.a,{disabled:!0,className:"pre-order-item-list-item",children:Object(Ke.jsx)(Ue.a,{type:"li",primary:"".concat(e.quantity," x ").concat(e.item.name),secondary:"".concat(e.optionAnswers.join()," , ").concat(e.comment)})},t)}))}),Object(Ke.jsx)("span",{children:"payment-details"}),Object(Ke.jsx)("br",{})]})]})})]}),e,t]})):Object(Ke.jsx)(j.a,{to:"/order"})}}]),s}(a.Component),ks=Object(p.b)((function(e){return{userReducer:e.userReducer,orderReducer:e.orderReducer}}),{send_order:gt,showErrorSnackbar:Kt,empty_cart:function(){return function(e){e({type:ye})}},order_accepted:function(e){return function(t){console.log("here"),t({type:pe,time:e})}},clearReducer:function(){return function(e){e({type:Oe})}},getUser:is})(Ss),Rs=s(347),Is=s(77),As=s(348),Es=(s(267),s.p+"static/media/transparent-logo.adf30206.png"),Ts=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).onClose=function(e){a.props.onClose&&a.props.onClose(e)},a.state={selectedLangeuage:"EN",searchText:"",focus:!1,isAuthenticated:"",results:[]},a}return Object(d.a)(s,[{key:"onChangeLang",value:function(e){this.setState({selectedLangeuage:e})}},{key:"logOut",value:function(){this.props.logout()}},{key:"render",value:function(){var e=this,t=sessionStorage.getItem("isAuthenticated");return"true"===(t="true"===t)&&null===this.props.user&&this.props.refreshToken(this.props.refresh_token),Object(Ke.jsxs)(O.a,{fluid:!0,className:"headerContainer",children:[Object(Ke.jsx)(x.a,{children:Object(Ke.jsx)(Ot.b,{to:"/home",children:Object(Ke.jsx)(f.a,{src:Es,className:"headerLogo"})})}),Object(Ke.jsx)(x.a,{xs:6,md:6}),Object(Ke.jsx)(x.a,{children:Object(Ke.jsxs)(as.a,{children:[Object(Ke.jsx)(as.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Ke.jsx)(as.a.Collapse,{id:"basic-navbar-nav",children:Object(Ke.jsxs)(ns.a,{className:"mr-auto",children:[Object(Ke.jsxs)(Rs.a,{title:this.state.selectedLangeuage,id:"basic-nav-dropdown",children:[Object(Ke.jsx)(Rs.a.Item,{onSelect:function(){return e.onChangeLang("GR")},children:"GR"}),Object(Ke.jsx)(Rs.a.Item,{onSelect:function(){return e.onChangeLang("EN")},children:"EN"})]}),t?Object(Ke.jsx)(g.a,{style:{marginLeft:10},children:Object(Ke.jsxs)(Is.a,{children:[Object(Ke.jsxs)(Is.a.Toggle,{variant:"success",id:"dropdown-basic",children:[Object(Ke.jsx)(As.a,{}),"Profile"]}),Object(Ke.jsx)(Is.a.Menu,{children:Object(Ke.jsxs)("ul",{children:[Object(Ke.jsx)("li",{className:"header-menu-li",children:Object(Ke.jsx)(Ot.b,{to:"/account",children:"My profile"})}),Object(Ke.jsx)("li",{className:"header-menu-li",children:Object(Ke.jsx)(Ot.b,{to:"/account/orders",children:"My orders"})}),Object(Ke.jsx)("li",{className:"header-menu-li",children:Object(Ke.jsx)(Ot.b,{to:"/account/addresses",children:"My addresses"})}),Object(Ke.jsx)("li",{className:"header-menu-li",children:Object(Ke.jsx)(Ot.b,{to:"/account/ratings",children:"My ratings"})}),Object(Ke.jsx)("li",{className:"header-menu-li",children:Object(Ke.jsx)(Ot.b,{to:"/home",onClick:function(){return e.logOut()},children:"Logout"})})]})})]})}):Object(Ke.jsx)(ns.a.Link,{onClick:function(t){e.onClose(t)},children:"Login/Register"})]})})]})})]})}}]),s}(a.Component),Ps=Object(p.b)((function(e){return{userID:sessionStorage.getItem("userID"),refresh_token:sessionStorage.getItem("refreshToken"),user:e.userReducer.user,products:e.productReducer.products}}),{logout:function(){return function(e,t){var s=sessionStorage.getItem("token"),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}};w.a.post("http://localhost:8080/user/logout",null,a).then((function(t){e({type:ye}),e({type:E})})).catch((function(t){console.log(t),e(Ne(t,t.status))}))}},refreshToken:function(e){return function(t){var s={refresh_token:e};console.log(s),w.a.post("http://localhost:8080/token/refresh",s,S).then((function(e){var s=Object(rs.a)(e.data.access_token),a=Object(rs.a)(e.data.refresh_token);console.log(a);var n={id:s.user_id,user:s.user};console.log(n.user),t({type:I,token:e.data.access_token,refresh_token:e.data.refresh_token,user:n.user})})).catch((function(e){console.log(e.response),t({type:A,error:e.response.data.message}),t({type:X,message:"Invalid credits"})}))}}})(Ts),Ds=(s(268),s(349)),Ms=s(158),Ls=s(287),Gs=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.onSubscribe=function(){if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a.state.newsletterEmail)){document.getElementById("inputNewsLetterHelperText").style.display="none",document.getElementById("inputNewsLetterHelperText").style.color="green",document.getElementById("inputNewsLetterHelperText").innerHTML="Success";var e={email:a.state.newsletterEmail};a.props.subscribe(e),a.setState({newsletterEmail:""})}else document.getElementById("inputNewsLetterHelperText").style.display="block"},a.state={newsletterEmail:""},a}return Object(d.a)(s,[{key:"render",value:function(){return Object(Ke.jsxs)(O.a,{fluid:!0,className:"footerContainer",children:[Object(Ke.jsxs)(g.a,{id:"footerRow",children:[Object(Ke.jsxs)(x.a,{className:"logoCol",children:[Object(Ke.jsx)(f.a,{src:Es,className:"headerLogo"}),Object(Ke.jsxs)(g.a,{children:[Object(Ke.jsx)(x.a,{children:Object(Ke.jsx)(Ms.SocialIcon,{style:{height:40,width:40},url:"https://www.facebook.com/coffeetwistt"})}),Object(Ke.jsx)(x.a,{children:Object(Ke.jsx)(Ms.SocialIcon,{style:{height:40,width:40},url:"https://instagram.com/coffee_twist_"})})]})]}),Object(Ke.jsx)(x.a,{children:Object(Ke.jsxs)("div",{className:"newsLetter",children:[Object(Ke.jsx)("div",{className:"newsLetterTitle",children:"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae Newsletter "}),Object(Ke.jsxs)("div",{className:"newsLetterInput",children:[Object(Ke.jsx)(ht.a,{type:"email",name:"newsletterEmail",id:"inputNewsLetter",placeholder:"\u03a0\u03bb\u03b7\u03ba\u03c4\u03c1\u03bf\u03bb\u03bf\u03b3\u03ae\u03c3\u03c4\u03b5 \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03b5\u03b4\u03ce.",onChange:this.onChange,helperText:""})," ",Object(Ke.jsx)(Ls.a,{style:{display:"none",textAlign:"center",color:"red"},id:"inputNewsLetterHelperText",children:"Wrong email"}),Object(Ke.jsx)(Ds.a,{onClick:this.onSubscribe})]})]})}),Object(Ke.jsx)(x.a,{className:"menu1Col",children:Object(Ke.jsxs)("ul",{children:[Object(Ke.jsx)(Ot.b,{to:"/document/oroi_xrisis",children:Object(Ke.jsx)("li",{children:"\u038c\u03c1\u03bf\u03b9 \u03c7\u03c1\u03ae\u03c3\u03b7\u03c2"})}),Object(Ke.jsx)(Ot.b,{to:"/document/epikoinwnia",children:Object(Ke.jsx)("li",{children:"\u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1"})}),Object(Ke.jsx)(Ot.b,{to:"/document/how_it_works",children:Object(Ke.jsx)("li",{children:"\u03a0\u03c9\u03c2 \u03bb\u03b5\u03b9\u03c4\u03bf\u03c5\u03c1\u03b3\u03b5\u03af"})}),Object(Ke.jsx)(Ot.b,{to:"/document/who_we_are",children:Object(Ke.jsx)("li",{children:"\u03a0\u03bf\u03b9\u03bf\u03af \u0395\u03af\u03bc\u03b1\u03c3\u03c4\u03b5"})})]})}),Object(Ke.jsx)(x.a,{className:"menu2Col",children:Object(Ke.jsxs)("ul",{children:[Object(Ke.jsx)(Ot.b,{to:"/document/protection",children:Object(Ke.jsx)("li",{children:"\u03a0\u03bf\u03bb\u03b9\u03c4\u03b9\u03ba\u03ae \u03a0\u03c1\u03bf\u03c3\u03c4\u03b1\u03c3\u03af\u03b1\u03c2"})}),Object(Ke.jsx)(Ot.b,{to:"/document/coockies",children:Object(Ke.jsx)("li",{children:"\u03a0\u03bf\u03bb\u03b9\u03c4\u03b9\u03ba\u03ae cookies"})}),Object(Ke.jsx)(Ot.b,{to:"/document/ratings",children:Object(Ke.jsx)("li",{children:"\u03a0\u03bf\u03bb\u03b9\u03c4\u03b9\u03ba\u03ae \u0391\u03be\u03b9\u03bf\u03bb\u03cc\u03b3\u03b7\u03c3\u03b7\u03c2"})}),Object(Ke.jsx)(Ot.b,{to:"/document/privacy_policy",children:Object(Ke.jsx)("li",{children:"\u03a0\u03bf\u03bb\u03b9\u03c4\u03b9\u03ba\u03ae \u0391\u03c0\u03bf\u03c1\u03c1\u03ae\u03c4\u03bf\u03c5"})})]})})]}),Object(Ke.jsx)(g.a,{className:"subFooterRow",children:Object(Ke.jsx)("div",{className:"subFooterContent",children:Object(Ke.jsx)("p",{className:"subFooterText",children:"(c) 2021 coffeetwist \u039c\u03b5 \u03b5\u03c0\u03b9\u03c6\u03cd\u03bb\u03b1\u03be\u03b7 \u03cc\u03bb\u03c9\u03bd \u03c4\u03c9\u03bd \u03b4\u03b9\u03ba\u03b1\u03b9\u03c9\u03bc\u03ac\u03c4\u03c9\u03bd.\u038c\u03c1\u03bf\u03b9 \u03c7\u03c1\u03ae\u03c3\u03b7\u03c2, \u03c0\u03bf\u03bb\u03b9\u03c4\u03b9\u03ba\u03ae \u03b9\u03b4\u03b9\u03c9\u03c4\u03b9\u03ba\u03bf\u03cd \u03b1\u03c0\u03bf\u03c1\u03c1\u03ae\u03c4\u03bf\u03c5."})})})]})}}]),s}(a.Component),Bs=Object(p.b)((function(e){return{}}),{subscribe:function(e){return function(t){var s=e;w.a.post("http://localhost:8080/user/subscribe",s,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t({type:L,payload:e.data}),t({type:Y,message:"Subscribed successfully!"})})).catch((function(e){console.log(e.response),t(Ne(e,e.status)),t({type:X,message:e.response.data.message})}))}}})(Gs),Fs=s(378),Us=s(350),qs=s(351),Hs=s(352),Ws=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).onChangeTab=function(e){a.setState({selectedTab:e})},a.onClose=function(e){a.props.onClose&&a.props.onClose(e)},a.onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.checkPasswords=function(e){e.preventDefault(),a.state.reg_password!==a.state.reg_password2?(document.getElementById("passwordMatchText").style.visibility="visible",a.setState({ready:!1})):(document.getElementById("passwordMatchText").style.visibility="hidden",a.setState({ready:!0}))},a.state={selectedTab:"login",email:"",password:"",reg_password:"",reg_password2:"",ready:!1,showError:!0},a.onSubmit=a.onSubmit.bind(Object(l.a)(a)),a.onSubmitRegister=a.onSubmitRegister.bind(Object(l.a)(a)),a.onClose=a.onClose.bind(Object(l.a)(a)),a.onChangeTab=a.onChangeTab.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.setState({email:"",password:""})}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log(this.state.email,this.state.password),this.props.login(this.state.email,this.state.password)}},{key:"onSubmitRegister",value:function(e){if(e.preventDefault(),this.state.reg_password!==this.state.reg_password2)this.props.showErrorSnackbar("Passwords does not match");else{var t={email:this.state.email,password:this.state.password};this.props.register(t)}}},{key:"render",value:function(){var e=this;return this.props.userReducer.LoadisLoadingng?Object(Ke.jsx)("div",{children:Object(Ke.jsxs)("div",{className:"loading-div",children:[Object(Ke.jsx)($t.a,{disableShrink:!0})," "]})}):"true"===sessionStorage.getItem("isAuthenticated")?null:Object(Ke.jsx)(Bt.a,{open:this.props.show,autoFocus:!0,onClose:function(t){e.onClose(t)},className:"log-reg-modal",children:Object(Ke.jsxs)(Ft.a,{className:"inner-paper",children:[Object(Ke.jsxs)(Ut.a,{container:!0,className:"modalHeader",children:[Object(Ke.jsx)(Ut.a,{item:!0,xs:4}),Object(Ke.jsx)(Ut.a,{item:!0,xs:4,className:"headerTitle",children:"login"===this.state.selectedTab?Object(Ke.jsx)("p",{children:"\u0395\u03af\u03c3\u03bf\u03b4\u03bf\u03c2 Coffee Twist"}):Object(Ke.jsx)("p",{children:"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae \u03c3\u03c4\u03bf Coffee Twist"})}),Object(Ke.jsx)(Ut.a,{xs:4,item:!0,className:"closeButtonCol",children:Object(Ke.jsx)(y.a,{variant:"secondary",onClick:function(t){e.onClose(t)},children:"X"})})]}),Object(Ke.jsxs)(Ut.a,{container:!0,className:"modalBody",children:[Object(Ke.jsx)(Ut.a,{item:!0,xs:1}),Object(Ke.jsx)(Ut.a,{item:!0,xs:10,children:Object(Ke.jsxs)(Fs.a,{activeKey:this.state.selectedTab,onSelect:function(t){return e.onChangeTab(t)},className:"modalBodyTabs",children:[Object(Ke.jsxs)(Us.a,{eventKey:"login",title:"Login",children:[Object(Ke.jsxs)("div",{className:"loginButtons",children:[Object(Ke.jsxs)(y.a,{variant:"outline-secondary",children:["Log in with facebook ",Object(Ke.jsx)(qs.a,{})]}),Object(Ke.jsx)("br",{}),Object(Ke.jsxs)(y.a,{variant:"outline-secondary",children:["Log in with gmail ",Object(Ke.jsx)(Hs.a,{})]})]}),Object(Ke.jsx)("div",{children:Object(Ke.jsx)("p",{children:"\u039a\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03b3\u03b9\u03b1 \u03b5\u03af\u03c3\u03bf\u03b4\u03bf/ \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae \u03ae \u03bb\u03b9\u03bd\u03ba"})}),Object(Ke.jsx)("hr",{}),Object(Ke.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(Ke.jsx)(ht.a,{name:"email",id:"log_email",label:"Email",type:"email",autoComplete:"section-login username",placeholder:"input@example.com",onChange:this.onChange,variant:"outlined",style:{width:"100%",margin:"0.5%"}}),Object(Ke.jsx)(ht.a,{name:"password",id:"log_password",label:"Password",type:"password",autoComplete:"section-login password",placeholder:"Password",onChange:this.onChange,style:{width:"100%",margin:"0.5%"},variant:"outlined"}),Object(Ke.jsx)("div",{className:"loginButtons",children:Object(Ke.jsx)(y.a,{type:"submit",variant:"outline-primary",children:"\u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7"})})]})]}),Object(Ke.jsxs)(Us.a,{eventKey:"register",title:"Register",children:[Object(Ke.jsxs)("div",{className:"loginButtons",children:[Object(Ke.jsxs)(y.a,{variant:"outline-secondary",children:["Register with facebook ",Object(Ke.jsx)(qs.a,{})]}),Object(Ke.jsx)("br",{}),Object(Ke.jsxs)(y.a,{variant:"outline-secondary",children:["Register with gmail ",Object(Ke.jsx)(Hs.a,{})]})]}),Object(Ke.jsx)("div",{children:Object(Ke.jsx)("p",{children:"\u039a\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03b3\u03b9\u03b1 \u03b5\u03af\u03c3\u03bf\u03b4\u03bf/ \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae \u03ae \u03bb\u03b9\u03bd\u03ba"})}),Object(Ke.jsx)("hr",{}),Object(Ke.jsxs)("form",{onSubmit:this.onSubmitRegister,children:[Object(Ke.jsx)(ht.a,{name:"email",id:"reg_email",label:"Email",type:"email",placeholder:"input@example.com",onChange:this.onChange,variant:"outlined",style:{width:"100%",margin:"0.5%"}}),Object(Ke.jsx)(ht.a,{name:"reg_password",id:"reg_pass",label:"Enter Password",type:"password",autoComplete:"section-login new-password",placeholder:"Password",onChange:this.onChange,style:{width:"100%",margin:"0.5%"},variant:"outlined"}),Object(Ke.jsx)(ht.a,{name:"reg_password2",id:"reg_pass_2",label:"Repeat Password",type:"password",autoComplete:"section-login new-password2",placeholder:" Repeat Password",onChange:this.onChange,style:{width:"100%",margin:"0.5%"},variant:"outlined"}),Object(Ke.jsx)("div",{className:"loginButtons",children:Object(Ke.jsx)(y.a,{type:"submit",variant:"outline-primary",id:"registerButton",children:"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae"})})]})]})]})}),Object(Ke.jsx)(Ut.a,{item:!0,xs:1})]}),Object(Ke.jsx)(Ut.a,{id:"modalFooter",eleveation:0,children:Object(Ke.jsx)("p",{children:"\u03a3\u03c5\u03bc\u03c6\u03c9\u03bd\u03af\u03b1 \u03bc\u03b5 \u03cc\u03c1\u03bf\u03c5\u03c2/\u03c0\u03bf\u03bb\u03b9\u03c4\u03b9\u03ba\u03ae/\u03c0\u03c1\u03bf\u03c5\u03c0\u03bf\u03b8\u03ad\u03c3\u03b5\u03b9\u03c2"})}),undefined]})})}}]),s}(a.Component),zs=Object(p.b)((function(e){return{userReducer:e.userReducer,isAuthenticated:e.userReducer.isAuthenticated,errorReducer:e.errorReducer}}),{login:function(e,t){return function(s){s({type:P});var a={email:e,password:t};w.a.post("http://localhost:8080/user/login",a,{headers:{"Content-Type":"application/json"}}).then((function(e){var t=Object(rs.a)(e.data.access_token),a={id:t.user_id,user:t.user};s({type:I,token:e.data.access_token,refresh_token:e.data.refresh_token,user:a.user})})).then((function(e){s({type:Y,message:"Login successful"})})).catch((function(e){console.log(e.response),s({type:A,error:e.response.data.message}),s({type:X,message:"Invalid credits"})}))}},register:function(e){return function(t){var s=e;w.a.post("http://localhost:8080/user/register",s,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t({type:k,payload:e.data}),t({type:Y,message:e.message})})).catch((function(e){console.log(e.response),t(Ne(e,e.status)),t({type:R}),t({type:X,message:e.response.data.message})}))}},returnErrors:Ne,showErrorSnackbar:Kt})(Ws),Vs=s(193),Ys=s.n(Vs),Xs=s(379),Js=s(366),Ks=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).showCommentModal=function(e,t){a.setState({showCommentModal:!a.state.showCommentModal,selectedOrder:t})},a.commentOrder=function(){var e={order_id:a.state.selectedOrder.id,reason:"comment_order",comment_text:a.state.comment,user_name:a.props.userReducer.user.name,rating:{rate:parseFloat(a.state.rating),user_id:a.props.userReducer.user.id}};a.props.update_order(e),console.log(a.state)},a.onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.state={selectedOrder:{},comment:"",comment_order_ids:[],rating:4,showCommentModal:!1},a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){if(!1===this.props.userReducer.isAuthenticated)return Object(Ke.jsx)(j.a,{to:"/home"});var e=[];for(var t in this.props.userReducer.user.comments)e.push(this.props.userReducer.user.comments[t].order_id);this.setState({comment_order_ids:e})}},{key:"render",value:function(){var e,t=this,s="true"===sessionStorage.getItem("isAuthenticated");return this.state.showCommentModal&&(e=Object(Ke.jsxs)(tt.a,{show:!0,autoFocus:!0,onHide:function(e){t.showCommentModal(!1,null)},id:"alertModal",children:[Object(Ke.jsx)(tt.a.Header,{className:"commentModalHeader",children:Object(Ke.jsx)(y.a,{variant:"secondary",onClick:function(e){t.showCommentModal(!1,null)},children:"X"})}),Object(Ke.jsx)(tt.a.Body,{children:Object(Ke.jsxs)("div",{className:"commentModalBodyDiv",children:[Object(Ke.jsx)(g.a,{className:"centered",children:Object(Ke.jsxs)("div",{children:[Object(Ke.jsx)(Wt.a,{component:"legend",children:"Enter your comment!"}),Object(Ke.jsx)("textarea",{name:"comment",type:"textarea",value:this.state.comment,placeholder:"Great job..",cols:"40",onChange:function(e){return t.onChange(e)}})]})}),Object(Ke.jsx)(g.a,{className:"centered",children:Object(Ke.jsxs)(Js.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(Ke.jsx)(Wt.a,{component:"legend",children:"Leave a rating!"}),Object(Ke.jsx)(Xs.a,{name:"rating",defaultValue:4,precision:.5,onChange:function(e){return t.onChange(e)},emptyIcon:Object(Ke.jsx)(Ys.a,{fontSize:"inherit"})})]})})]})}),Object(Ke.jsx)(tt.a.Footer,{children:Object(Ke.jsx)(y.a,{onClick:function(){return t.commentOrder()},children:"Submit"})})]})),!1===s?Object(Ke.jsx)(j.a,{to:"/home"}):!0===s&&!1===this.props.userReducer.hasLoaded?(this.props.getUser(sessionStorage.getItem("userID")),Object(Ke.jsxs)("div",{className:"loading-div",children:[Object(Ke.jsx)($t.a,{disableShrink:!0})," "]})):Object(Ke.jsxs)(O.a,{className:"accountMainPage",children:[Object(Ke.jsx)(g.a,{className:"headerRow",children:Object(Ke.jsx)(as.a,{className:"user-nav-bar",children:Object(Ke.jsxs)(ns.a,{className:"mr-auto",children:[Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account",children:"\u039f \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03cc\u03c2 \u03bc\u03bf\u03c5"}),Object(Ke.jsx)(Ot.b,{className:"nav-text nav-text-activated",to:"/account/orders",children:"\u039f\u03b9 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2 \u03bc\u03bf\u03c5"}),Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account/addresses",children:"\u0394\u03b9\u03b5\u03c5\u03b8\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2"}),Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account/ratings",children:"\u0392\u03b1\u03b8\u03bc\u03bf\u03bb\u03bf\u03b3\u03af\u03b5\u03c2"})]})})}),Object(Ke.jsx)(x.a,{className:"userOrdersCol bodyCol",children:Object(Ke.jsxs)("div",{className:"roundedContainer",children:[Object(Ke.jsxs)("div",{className:"userOrdersColHeader",children:[Object(Ke.jsx)("div",{className:"title",children:"\u039f\u03b9 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2 \u03c3\u03bf\u03c5"}),Object(Ke.jsx)("span",{})]}),Object(Ke.jsx)("div",{className:"userOrdersColBody",children:this.props.userReducer.user.orders.length>0?Object(Ke.jsx)("div",{children:this.props.userReducer.user.orders.map((function(e,s){var a=new Date(e.create_at);return Object(Ke.jsxs)(g.a,{className:"orderRow",children:[Object(Ke.jsxs)(x.a,{className:"orderRowCol dateCol",children:[a.getDate(),"-",a.getMonth()+1,"-",a.getFullYear()]}),Object(Ke.jsx)(x.a,{className:"orderRowCol prodsCol",children:Object(Ke.jsx)("ul",{children:e.products.map((function(e,t){return Object(Ke.jsxs)("li",{children:[Object(Ke.jsxs)("span",{className:"listItemTitle",children:["x ",e.quantity," ",e.item.name]}),Object(Ke.jsx)("br",{})," ",Object(Ke.jsx)("span",{className:"listItemSubTitle",children:e.optionAnswers.join()+",".concat(e.comment)})]},t)}))})}),Object(Ke.jsx)(x.a,{className:"orderRowCol optionsCol",children:t.state.comment_order_ids.includes(e.id)?Object(Ke.jsx)("span",{children:"Commented"}):Object(Ke.jsx)("button",{className:"commentButton",onClick:function(){return t.showCommentModal(!1,e)},children:"Comment!"})})]},s)}))}):Object(Ke.jsx)("div",{children:"\u0394\u03b5\u03bd \u03b5\u03c7\u03b5\u03b9\u03c2 \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03b9 \u03ba\u03ac\u03c0\u03bf\u03b9\u03b1 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b1 \u03b1\u03ba\u03cc\u03bc\u03b1"})})]})}),e]})}}]),s}(a.Component),Zs=Object(p.b)((function(e){return{userReducer:e.userReducer}}),{update_order:function(e){return function(t){var s=e;w.a.put("http://localhost:8080/admin/update_order",s,S).then((function(e){t({type:fe,payload:e.data}),t({type:Y,message:"Order updated!"})})).catch((function(e){console.log(e.response),t(Ne(e,e.status)),t({type:R}),t({type:X,message:e.response.data.message})}))}},getUser:is})(Ks),Qs=s(200),$s=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).selectEditAddressModal=function(e){console.log("here"),a.setState({showEditAddressModal:!a.state.showEditAddressModal})},a.selectAddressModal=function(e,t,s){console.log(s);var n=!0;t&&(n=!1),a.setState({showAddressModal:e,showEditAddressModal:t,selectedAddress:s,updateAddress:n})},a.showRemoveAddressDialog=function(e,t){a.setState({showRemoveAddressDialog:!a.state.showRemoveAddressDialog,selectedAddress:t})},a.removeAddress=function(){var e={id:a.props.userReducer.user.id,reason:"remove_address",address_id:a.state.selectedAddress.id};a.props.updateUser(e),a.showRemoveAddressDialog(!1,null)},a.editAddress=function(e,t){a.setState({selectedAddress:e,updateAddress:!0}),a.selectEditAddressModal(!0)},a.state={address:"",updateAddress:!0,showEditAddressModal:!1,showAddressModal:!1,showRemoveAddressDialog:!1,selectedAddress:{}},a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){if(!1===this.props.userReducer.isAuthenticated)return Object(Ke.jsx)(j.a,{to:"/home"});!1===this.props.userReducer.hasLoaded&&this.props.getUser(this.props.userReducer.user.id)}},{key:"render",value:function(){var e,t,s,a=this,n="true"===sessionStorage.getItem("isAuthenticated");return this.state.showRemoveAddressDialog&&(s=Object(Ke.jsxs)(tt.a,{show:!0,autoFocus:!0,onHide:function(e){a.showRemoveAddressDialog(!1,null)},children:[Object(Ke.jsx)(tt.a.Header,{closeButton:!0,children:Object(Ke.jsx)(tt.a.Title,{children:"Remove address"})}),Object(Ke.jsx)(tt.a.Body,{children:Object(Ke.jsx)("p",{children:"Are you sure you want to remove it?"})}),Object(Ke.jsxs)(tt.a.Footer,{children:[Object(Ke.jsx)(y.a,{variant:"secondary",onClick:function(){return a.showRemoveAddressDialog(!1,null)},children:"Close"}),Object(Ke.jsx)(y.a,{variant:"primary",onClick:function(){return a.removeAddress()},children:"Yes"})]})]})),this.state.showEditAddressModal&&(e=Object(Ke.jsx)(_s,{address:this.state.selectedAddress,updateAddress:this.state.updateAddress,displayModal:this.state.showEditAddressModal,closeModal:function(){return a.selectEditAddressModal(!1)}})),console.log(this.state.showAddressModal),this.state.showAddressModal&&(t=Object(Ke.jsx)(fs,{displayModal:this.state.showAddressModal,closeModal:function(){return a.selectAddressModal(!1,!1,"")},editAddress:function(e,t,s){return a.selectAddressModal(e,t,s)}})),!1===n?Object(Ke.jsx)(j.a,{to:"/home"}):!0===n&&!1===this.props.userReducer.hasLoaded?(this.props.getUser(sessionStorage.getItem("userID")),Object(Ke.jsxs)("div",{className:"loading-div",children:[Object(Ke.jsx)($t.a,{disableShrink:!0})," "]})):Object(Ke.jsxs)(O.a,{className:"accountMainPage",children:[Object(Ke.jsx)(g.a,{className:"headerRow",children:Object(Ke.jsx)(as.a,{className:"user-nav-bar",children:Object(Ke.jsxs)(ns.a,{className:"mr-auto",children:[Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account",children:"\u039f \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03cc\u03c2 \u03bc\u03bf\u03c5"}),Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account/orders",children:"\u039f\u03b9 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2 \u03bc\u03bf\u03c5"}),Object(Ke.jsx)(Ot.b,{className:"nav-text nav-text-activated",to:"/account/addresses",children:"\u0394\u03b9\u03b5\u03c5\u03b8\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2"}),Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account/ratings",children:"\u0392\u03b1\u03b8\u03bc\u03bf\u03bb\u03bf\u03b3\u03af\u03b5\u03c2"})]})})}),Object(Ke.jsx)(x.a,{className:"userAddressCol bodyCol",children:Object(Ke.jsxs)("div",{className:"roundedContainer",children:[Object(Ke.jsxs)("div",{className:"userAddressColHeader",children:[Object(Ke.jsx)("div",{className:"title",children:"\u039f\u03b9 \u03b4\u03b9\u03b5\u03c5\u03b8\u03ae\u03bd\u03c3\u03b5\u03b9\u03c2 \u03c3\u03bf\u03c5"}),Object(Ke.jsx)("span",{})]}),Object(Ke.jsx)("div",{className:"userAddressColBody",children:this.props.userReducer.user.addresses.length>0?Object(Ke.jsxs)(mt.a,{striped:!0,bordered:!0,hover:!0,children:[Object(Ke.jsx)("thead",{children:Object(Ke.jsxs)("tr",{children:[Object(Ke.jsx)("th",{children:"#"}),Object(Ke.jsx)("th",{children:"\u0394\u03b9\u03b5\u03c5\u03b8\u03b7\u03bd\u03c3\u03b7"}),Object(Ke.jsx)("th",{children:"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"}),Object(Ke.jsx)("th",{children:"\u03a0\u03b5\u03c1\u03b9\u03bf\u03c7\u03ae"}),Object(Ke.jsx)("th",{children:"\u03a4.\u039a."}),Object(Ke.jsx)("th",{children:"Actions"})]})}),Object(Ke.jsx)("tbody",{children:this.props.userReducer.user.addresses.map((function(e,t){return Object(Ke.jsxs)("tr",{className:"address-list-item-container",children:[Object(Ke.jsx)("td",{children:t}),Object(Ke.jsx)("td",{children:e.address_name}),Object(Ke.jsx)("td",{children:e.address_number}),Object(Ke.jsx)("td",{children:e.area_name}),Object(Ke.jsx)("td",{children:e.zipcode}),Object(Ke.jsxs)("td",{style:{dispaly:"flex"},children:[Object(Ke.jsx)(xt.a,{onClick:function(){return a.editAddress(e)}})," ",Object(Ke.jsx)(Qs.a,{onClick:function(){return a.showRemoveAddressDialog(!0,e)},children:"X"})]})]},t)}))})]}):Object(Ke.jsx)("div",{children:"\u0394\u03b5\u03bd \u03b5\u03c7\u03b5\u03b9\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03b9 \u03ba\u03ac\u03c0\u03bf\u03b9\u03b1 \u03b4\u03b9\u03b5\u03cd\u03b8\u03b7\u03bd\u03c3\u03b7 \u03b1\u03ba\u03cc\u03bc\u03b1"})})]})}),Object(Ke.jsx)("div",{className:"addAddressDiv",children:Object(Ke.jsx)("button",{className:"addAddressButton",onClick:function(){return a.selectAddressModal(!0)},children:"+"})}),s,e,t]})}}]),s}(a.Component),ea=Object(p.b)((function(e){return{userReducer:e.userReducer}}),{getUser:is,updateUser:cs})($s),ta=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"componentDidMount",value:function(){if(!1===this.props.userReducer.isAuthenticated)return Object(Ke.jsx)(j.a,{to:"/home"})}},{key:"render",value:function(){return!1===this.props.userReducer.isAuthenticated?Object(Ke.jsx)(j.a,{to:"/home"}):Object(Ke.jsxs)(O.a,{className:"accountMainPage",children:[Object(Ke.jsx)(g.a,{className:"headerRow",children:Object(Ke.jsx)(as.a,{className:"user-nav-bar",children:Object(Ke.jsxs)(ns.a,{className:"mr-auto",children:[Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account",children:"\u039f \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03cc\u03c2 \u03bc\u03bf\u03c5"}),Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account/orders",children:"\u039f\u03b9 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2 \u03bc\u03bf\u03c5"}),Object(Ke.jsx)(Ot.b,{className:"nav-text",to:"/account/addresses",children:"\u0394\u03b9\u03b5\u03c5\u03b8\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2"}),Object(Ke.jsx)(Ot.b,{className:"nav-text nav-text-activated",to:"/account/ratings",children:"\u0392\u03b1\u03b8\u03bc\u03bf\u03bb\u03bf\u03b3\u03af\u03b5\u03c2"})]})})}),Object(Ke.jsx)(g.a,{className:"userRatingsRow bodyRow"})]})}}]),s}(a.Component),sa=Object(p.b)((function(e){return{userReducer:e.userReducer}}),{})(ta),aa=s(364),na=(s(115),s(353)),ra=["\u03a0\u03c1\u03bf\u03ca\u03cc\u03bd\u03c4\u03b1","\u03a5\u03bb\u03b9\u03ba\u03ac","\u03a0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2","\u03a1\u03c5\u03b8\u03bc\u03af\u03c3\u03b5\u03b9\u03c2","\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1"],ca=["\u0395\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03b5\u03c2","\u0395\u03c4\u03bf\u03b9\u03bc\u03ac\u03b6\u03bf\u03bd\u03c4\u03b1\u03b9","\u039f\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b1\u03bd"],ia=["\u03a0\u03c1\u03bf\u03ca\u03cc\u03bd\u03c4\u03b1","\u03a5\u03bb\u03b9\u03ba\u03ac","\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1","Print"],oa=Object(na.a)((function(e){return{root:{display:"flex",height:"100vh",flexWrap:"wrap",width:"100%",margin:"8px","& > *":{margin:e.spacing(1),width:"100%",height:"100%"},paperSection:{backgroundColor:"black"}},list:{width:"90%"},listTitle:{fontSize:"25px",fontWeight:"100"},listText:{cursor:"pointer",marginLeft:"5"},arrowButtonGrid:{flexDirection:"column",alignItems:"center"}}}));function da(e){var t=oa();return Object(Ke.jsx)(Ft.a,{className:t.root,elevation:3,children:Object(Ke.jsx)(Ut.a,{container:!0,children:Object(Ke.jsx)(Ut.a,{item:!0,xs:12,children:Object(Ke.jsxs)(Ge.a,{className:t.list,children:[Object(Ke.jsx)(Be.a,{className:t.listTitle,children:Object(Ke.jsx)(Ue.a,{children:"\u03a0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2"})}),ca.map((function(s,a){var n;return s===e.selectedTab&&(n="selected"),Object(Ke.jsx)("div",{className:n,onClick:function(){return e.onSelectChange(s)},children:Object(Ke.jsx)(Be.a,{className:t.listText,children:Object(Ke.jsx)(Ue.a,{primary:s})})},a)})),Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{className:t.listTitle,primary:"\u039c\u03b1\u03b3\u03b1\u03b6\u03af"})}),ia.map((function(s,a){var n;return s===e.selectedTab&&(n="selected"),Object(Ke.jsx)("div",{className:n,onClick:function(){return e.onSelectChange(s)},children:Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{className:t.listText,primary:s})})},a)}))]})})})})}var la=s(67),ha=["\u0395\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03b5\u03c2","\u0395\u03c4\u03bf\u03b9\u03bc\u03ac\u03b6\u03bf\u03bd\u03c4\u03b1\u03b9","\u039f\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b1\u03bd"],ua=Object(na.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",maxHeight:"100vh",overflowY:"auto","& > *":{margin:e.spacing(1),width:"100%",height:"100%"},paperSection:{backgroundColor:"black"}}}}));function ja(e){var t=ua();return Object(Ke.jsxs)(Ft.a,{className:t.root,elevation:3,children:[Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u039a\u0391\u03a4\u0397\u0393\u039f\u03a1\u0399\u0395\u03a3"})}),"products"===e.type?e.categories.map((function(t,s){return Object(Ke.jsx)("div",{className:t.name===e.selectedCategory?"selected":"",children:Object(Ke.jsx)(Be.a,{onClick:function(s){return e.onCategoryChange(t.name)},children:Object(Ke.jsx)(Ue.a,{primary:t.name})})},s)})):"ingredients"===e.type?e.categories.map((function(t,s){return Object(Ke.jsx)("div",{className:s===e.selectedCategory?"selected":"",children:Object(Ke.jsx)(Be.a,{onClick:function(t){return e.onCategoryChange(s)},children:Object(Ke.jsx)(Ue.a,{primary:t})})},s)})):"orders"===e.type?ha.map((function(t,s){return Object(Ke.jsx)("div",{className:t===e.selectedCategory?"selected":"",children:Object(Ke.jsx)(Be.a,{onClick:function(s){return e.onCategoryChange(t)},children:Object(Ke.jsx)(Ue.a,{primary:t})})},s)})):null]})}var pa=s(354),ba=s(355),ma=s(356),Oa=s(357),ga=s(358),xa=s(359),fa=Object(na.a)((function(e){return{root:{display:"flex",overflowY:"auto",maxHeight:"100vh",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:"100%",height:"100%"},paperSection:{backgroundColor:"black"}}}}));function ya(e){var t=fa(),s=Object(p.c)();return Object(Ke.jsx)(Ft.a,{className:t.root,elevation:3,children:Object(Ke.jsxs)(pa.a,{children:[Object(Ke.jsx)(ba.a,{children:Object(Ke.jsxs)(ma.a,{children:[Object(Ke.jsx)(Oa.a,{align:"left",children:"\u038c\u03bd\u03bf\u03bc\u03b1"}),Object(Ke.jsx)(Oa.a,{align:"right",children:"\u03a4\u03b9\u03bc\u03ae"}),Object(Ke.jsx)(Oa.a,{align:"right",children:"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03bf"})]})}),Object(Ke.jsx)(ga.a,{children:e.products.map((function(t,a){return e.selectedCategory===t.category?Object(Ke.jsxs)(ma.a,{children:[Object(Ke.jsx)(Oa.a,{align:"left",children:t.name}),Object(Ke.jsx)(Oa.a,{align:"right",children:t.price}),Object(Ke.jsx)(Oa.a,{align:"right",children:Object(Ke.jsx)(xa.a,{checked:!0===t.available,onChange:function(){return function(e){s(Se(e.id,e,"change_availability"))}(t)},label:"Available"})})]},a):null}))})]})})}var va=Object(na.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflowY:"auto",maxHeight:"100vh","& > *":{margin:e.spacing(1),width:"100%",height:"100%"},paperSection:{backgroundColor:"black"}}}}));function Ca(e){var t=va(),s=Object(p.c)();return Object(Ke.jsx)(Ft.a,{className:t.root,elevation:3,children:Object(Ke.jsxs)(pa.a,{children:[Object(Ke.jsx)(ba.a,{children:Object(Ke.jsxs)(ma.a,{children:[Object(Ke.jsx)(Oa.a,{align:"left",children:"\u038c\u03bd\u03bf\u03bc\u03b1"}),Object(Ke.jsx)(Oa.a,{align:"right",children:"\u03a4\u03b9\u03bc\u03ae"}),Object(Ke.jsx)(Oa.a,{align:"right",children:"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03bf"})]})}),Object(Ke.jsx)(ga.a,{children:void 0!==e.ingredients?e.ingredients.map((function(e,t){return Object(Ke.jsxs)(ma.a,{children:[Object(Ke.jsx)(Oa.a,{align:"left",children:e.name}),Object(Ke.jsx)(Oa.a,{align:"right",children:e.price}),Object(Ke.jsx)(Oa.a,{align:"right",children:Object(Ke.jsx)(xa.a,{checked:!0===e.available,onChange:function(){return function(e){s(Ie(e.id,e,"change_availability"))}(e)},label:"Available"})})]},t)})):null})]})})}var _a=s(194),Na=s.n(_a),wa=s(196),Sa=s.n(wa),ka=s(195),Ra=s.n(ka),Ia=s(375),Aa=s(360),Ea=s(361),Ta=s(362),Pa=s(363),Da=function(e){return function(t){w.a.post("http://localhost:8080/comments/approve/".concat(e),null,S).then((function(e){console.log(e),t({type:q,comment:e.data.data}),t({type:Y,message:"Comment approved!"})})).catch((function(e){console.log(e),t({type:X,message:e.response.data.message})}))}},Ma=function(e){return function(t){w.a.post("http://localhost:8080/admin/reject/".concat(e),null,S).then((function(e){console.log(e),t({type:U,comment:e.data.data}),t({type:Y,message:"Comment rejected!"})})).catch((function(e){console.log(e),t({type:X,message:e.response.data.message})}))}},La=Object(na.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflowY:"auto",maxHeight:"100vh","& > *":{margin:e.spacing(1),width:"100%",height:"100%"},paperSection:{backgroundColor:"black"}}}}));function Ga(e){var t=La(),s=Object(p.c)(),n=Object(a.useState)(!1),r=Object(la.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(null),d=Object(la.a)(o,2),l=d[0],h=d[1],u=Object(a.useState)(""),j=Object(la.a)(u,2),b=j[0],m=j[1],O=function(){i(!1)};return Object(Ke.jsxs)(Ft.a,{className:t.root,elevation:3,children:[Object(Ke.jsxs)(pa.a,{children:[Object(Ke.jsx)(ba.a,{children:Object(Ke.jsxs)(ma.a,{children:[Object(Ke.jsx)(Oa.a,{align:"left",children:"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1"}),Object(Ke.jsx)(Oa.a,{align:"left",children:"\u038c\u03bd\u03bf\u03bc\u03b1"}),Object(Ke.jsx)(Oa.a,{align:"right",children:"\u03a3\u03c7\u03cc\u03bb\u03b9\u03bf"}),Object(Ke.jsx)(Oa.a,{align:"right",children:"\u0392\u03b1\u03b8\u03bc\u03bf\u03bb\u03bf\u03b3\u03af\u03b1"}),Object(Ke.jsx)(Oa.a,{align:"right",children:"\u0391\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7"}),Object(Ke.jsx)(Oa.a,{align:"right",children:"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"})]})}),Object(Ke.jsx)(ga.a,{children:e.comments.map((function(e,t){return Object(Ke.jsxs)(ma.a,{children:[Object(Ke.jsxs)(Oa.a,{align:"left",children:[e.created_at.slice(0,10)," ",e.created_at.slice(12,19)]}),Object(Ke.jsx)(Oa.a,{align:"left",children:e.user_name}),Object(Ke.jsxs)(Oa.a,{align:"right",children:[e.text," "]}),Object(Ke.jsxs)(Oa.a,{align:"right",children:[e.rate,Object(Ke.jsx)(Na.a,{})]}),""===e.answer?Object(Ke.jsxs)(Oa.a,{children:[Object(Ke.jsx)(qt.a,{onClick:function(){return t=e.id,i(!0),void h(t);var t},children:"\u0391\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7"})," "]}):Object(Ke.jsx)(Oa.a,{children:e.answer}),!1===e.answered?Object(Ke.jsxs)(Oa.a,{align:"right",children:[Object(Ke.jsx)(qt.a,{color:"primary",onClick:function(){return s(Da(e.id))},startIcon:Object(Ke.jsx)(Ra.a,{})}),Object(Ke.jsx)(qt.a,{color:"secondary",onClick:function(){return s(Ma(e.id))},startIcon:Object(Ke.jsx)(Sa.a,{})})]}):Object(Ke.jsx)(Oa.a,{children:e.approved?Object(Ke.jsx)("span",{children:"Approved"}):Object(Ke.jsx)("span",{children:"Rejected"})})]},t)}))})]}),Object(Ke.jsxs)(Ia.a,{open:c,onClose:O,"aria-labelledby":"form-dialog-title",children:[Object(Ke.jsx)(Aa.a,{id:"form-dialog-title",children:"\u0391\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf \u03a3\u03c7\u03cc\u03bb\u03b9\u03bf"}),Object(Ke.jsxs)(Ea.a,{children:[Object(Ke.jsx)(Ta.a,{children:"\u0395\u03b9\u03c3\u03ac\u03b3\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u03b1\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7 \u03b3\u03b9\u03b1 \u03c4\u03bf \u03c3\u03c7\u03cc\u03bb\u03b9\u03bf \u03b1\u03c5\u03c4\u03cc."}),Object(Ke.jsx)(ht.a,{autoFocus:!0,margin:"dense",id:"name",label:"\u0391\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7",type:"text",fullWidth:!0,onChange:function(e){return m(e.target.value)}})]}),Object(Ke.jsxs)(Pa.a,{children:[Object(Ke.jsx)(qt.a,{onClick:O,color:"primary",children:"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"}),Object(Ke.jsx)(qt.a,{onClick:function(){var e,t;s((e=l,t={text:b},function(s){w.a.post("http://localhost:8080/comments/answer/".concat(e),t,S).then((function(e){console.log(e),s({type:F,comment:e.data.data}),s({type:Y,message:"Comment answered!"})})).catch((function(e){console.log(e),s({type:X,message:e.response.data.message})}))})),i(!1)},color:"primary",children:"\u0395\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7"})]})]})]})}var Ba=Object(na.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflowY:"auto",maxHeight:"100vh","& > *":{margin:e.spacing(1),width:"100%",height:"100%"},paperSection:{backgroundColor:"black"}},listItem:{borderBottom:"1px solid black"},innerText:{borderBottom:"0.5px solid gray"},leftText:{textAlign:"start"},rightText:{textAlign:"end"},productRow:{backgroundColor:"#f4f4f4",marginBottom:"10px"}}}));function Fa(e){var t=Ba();return Object(Ke.jsx)(aa.a,{children:Object(Ke.jsx)(Ge.a,{children:e.products.map((function(e,s){return Object(Ke.jsxs)(Ft.a,{className:t.productRow,children:[Object(Ke.jsxs)(Be.a,{className:t.listItem,children:[Object(Ke.jsx)(Ue.a,{primary:e.item.name,className:t.leftText}),Object(Ke.jsx)(Ue.a,{primary:e.quantity+" X "+e.totalPrice/e.quantity+"\u20ac",className:t.rightText})]}),Object(Ke.jsxs)(Ge.a,{children:[e.options.length>0?e.options.map((function(e,s){return Object(Ke.jsx)(Be.a,{className:t.innerListItem,children:Object(Ke.jsx)(Ue.a,{primary:"+ "+e.Choice,className:t.innerText})},s)})):null,e.extra_ingredients.length>0?e.extra_ingredients.map((function(e,s){return Object(Ke.jsx)(Be.a,{className:t.innerListItem,children:Object(Ke.jsx)(Ue.a,{primary:"+ "+e,className:t.innerText})},s)})):null,""!==e.comment?Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1 : "+e.comment,className:t.innerText})},"item_comments"):null]})]},s)}))})})}var Ua=s(197),qa=s.n(Ua),Ha=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){var e;return void 0===this.props.order?null:(e=this.props.order,Object(Ke.jsxs)(Ft.a,{className:"main",children:[Object(Ke.jsxs)(n.a.Fragment,{children:[Object(Ke.jsx)(Wt.a,{children:"COFFEE TWIST"}),Object(Ke.jsx)(Wt.a,{children:"\u03a0\u03a1\u039f\u03a3\u039f\u03a7\u0397 \u0394\u0395\u039d \u0395\u0399\u039d\u0391\u0399 \u0391\u03a0\u039f\u0394\u0395\u0399\u039e\u0397!"}),Object(Ke.jsx)(Wt.a,{children:"***** \u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0395\u0399\u0391 *****"}),Object(Ke.jsxs)(Wt.a,{children:["***** ",e.create_at.slice(0,10)," ",e.create_at.slice(11,19),"*****"]}),Object(Ke.jsxs)(Wt.a,{children:["*** \u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0395\u0399\u0391 ",e.id," ***"]})]}),Object(Ke.jsxs)(n.a.Fragment,{children:[Object(Ke.jsxs)(Ge.a,{children:[0!==e.tips?Object(Ke.jsxs)(Be.a,{children:[Object(Ke.jsx)(Ue.a,{primary:"1 X TIP \u0393\u0399\u0391 \u0394\u0399\u0391\u039d\u039f\u039c\u0395\u0391"}),Object(Ke.jsx)(Ue.a,{primary:e.tips+"\u20ac"})]}):null,e.products.map((function(e,t){return Object(Ke.jsxs)(Ft.a,{elevation:0,children:[Object(Ke.jsxs)(Be.a,{children:[Object(Ke.jsx)(Ue.a,{primary:e.quantity+" X "+e.item.name}),Object(Ke.jsx)(Ue.a,{primary:e.totalPrice/e.quantity+"\u20ac"})]}),Object(Ke.jsxs)(Ge.a,{children:[e.options.length>0?e.options.map((function(e,t){return Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"+ "+e.Choice})},t)})):null,e.extra_ingredients.length>0?e.extra_ingredients.map((function(e,t){return Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"+ "+e})},t)})):null,""!==e.comment?Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1 : "+e.comment})},"item_comments"):null]})]},t)}))]}),Object(Ke.jsx)(Wt.a,{children:"======================================"}),Object(Ke.jsxs)(Wt.a,{children:["\u03a4\u03a1\u039f\u03a0\u039f\u03a3 \u03a0\u039b\u0397\u03a1\u03a9\u039c\u0397\u03a3 : ",e.payment_type]}),Object(Ke.jsxs)(Wt.a,{children:["\u03a4\u0395\u039b\u0399\u039a\u039f \u03a3\u03a5\u039d\u039f\u039b\u039f : ",e.pre_discount_price," \u20ac"]}),Object(Ke.jsx)(Wt.a,{children:"======================================"}),Object(Ke.jsx)(Wt.a,{children:"##### \u0394\u0399\u0395\u03a5\u0398\u03a5\u039d\u03a3\u0397 #####"}),Object(Ke.jsxs)(Ge.a,{children:[Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u039f\u039d/\u039c\u039f :".concat(e.user_details.Name,"  ").concat(e.user_details.Surname," ")})}),Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u039a\u0399\u039d\u0397\u03a4\u039f :".concat(e.user_details.Phone," ")})}),Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u039f\u0394\u039f\u03a3 :".concat(e.user_details.Address.address_name,"  ").concat(e.user_details.Address.address_number," ")})}),Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u03a0\u039f\u039b\u0397 :".concat(e.user_details.Address.area_name,"  ").concat(e.user_details.Address.city_name," ")})}),Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"TK :".concat(e.user_details.Address.zipcode," ")})}),Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u039f\u03a1\u039f\u03a6\u039f\u03a3 :".concat(e.user_details.Floor," ")})}),Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u039a\u039f\u03a5\u0394\u039f\u03a5\u039d\u0399 :".concat(e.user_details.Bell_name," ")})})]}),Object(Ke.jsxs)(Wt.a,{children:["\u03a3\u03a7\u039f\u039b\u0399\u0391: ",e.comments]}),Object(Ke.jsx)(Wt.a,{children:"###### www.coffeetwist.gr ######"})]})]}))}}]),s}(a.Component),Wa=Object(na.a)((function(e){return{root:{display:"flex",overflowY:"auto",maxHeight:"100vh",flexDirection:"row","& > *":{margin:e.spacing(1),width:"100%",height:"100%"},paperSection:{backgroundColor:"black"}},printButton:{backgroundColor:"red"},buttonsPaper:{margin:"10px"},printPaper:{textAlign:"right"},acceptButton:{marginLeft:"5px",marginRight:"5px",backgroundColor:"green"},rejectButton:{backgroundColor:"red"},compleButton:{backgroundColor:"beige"}}})),za=[{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"},{value:"30",label:"30"}];function Va(e){var t=Wa(),s=Object(p.c)(),n=Object(a.useState)(15),r=Object(la.a)(n,2),c=r[0],i=r[1],o=Object(a.useRef)(),d=e.user_details.Address.address_name+" "+e.user_details.Address.address_number+" ,"+e.user_details.Address.area_name+","+e.user_details.Address.zipcode;return Object(Ke.jsxs)(aa.a,{className:t.root,children:[Object(Ke.jsx)(Ut.a,{item:!0,xs:9,children:Object(Ke.jsxs)(Ge.a,{children:[Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u038f\u03c1\u03b1 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b1\u03c2 : "+e.time.slice(11,19)+" , ID: "+e.ID})}),Object(Ke.jsx)(Be.a,{className:t.addressItem,children:Object(Ke.jsx)(Ue.a,{primary:"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7 : "+d})}),Object(Ke.jsx)(Be.a,{className:t.userDetailsItem,children:Object(Ke.jsx)(Ue.a,{primary:"\u03a0\u03b5\u03bb\u03ac\u03c4\u03b7\u03c2 : "+e.user_details.Name+" "+e.user_details.Surname})}),Object(Ke.jsx)(Be.a,{className:t.userDetailsItem,children:Object(Ke.jsx)(Ue.a,{primary:"\u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf : "+e.user_details.Phone})}),Object(Ke.jsx)(Be.a,{className:t.userDetailsItem,children:Object(Ke.jsx)(Ue.a,{primary:"\u038c\u03c1\u03bf\u03c6\u03bf\u03c2 : "+e.user_details.Floor})}),Object(Ke.jsx)(Be.a,{className:t.userDetailsItem,children:Object(Ke.jsx)(Ue.a,{primary:"\u039a\u03bf\u03c5\u03b4\u03bf\u03cd\u03bd\u03b9 : "+e.user_details.Bell_name})}),Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf : "+e.total_price+"\u20ac"})}),Object(Ke.jsx)(Be.a,{children:Object(Ke.jsx)(Ue.a,{primary:"\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae : "+e.payment_type})})]})}),Object(Ke.jsxs)(Ut.a,{item:!0,xs:3,children:[Object(Ke.jsxs)(Ft.a,{elevation:0,className:t.printPaper,children:[Object(Ke.jsx)(qa.a,{trigger:function(){return Object(Ke.jsx)(qt.a,{className:t.printButton,children:"print it"})},content:function(){return o.current}}),Object(Ke.jsx)("div",{style:{display:"none"},children:Object(Ke.jsx)(Ha,{order:e.order,ref:o})})]}),"\u0395\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03b5\u03c2"===e.type?Object(Ke.jsxs)(Ft.a,{elevation:0,className:t.buttonsPaper,children:[Object(Ke.jsx)(ht.a,{id:"timer-set",select:!0,label:"\u03a7\u03c1\u03cc\u03bd\u03bf\u03c2",value:c,onChange:function(e){i(e.target.value)},children:za.map((function(e){return Object(Ke.jsx)(bs.a,{value:e.value,children:e.label},e.value)}))}),Object(Ke.jsxs)(qt.a,{id:"accept_buton_".concat(e.order.id),onClick:function(){return s((t=e.order,a=c,function(e){console.log(t);var s={id:t.id,accepted:!0,time:parseInt(a),from:t.user_id},n={delivery_time:parseInt(a)};w.a.put("http://localhost:8080/admin/accept/".concat(t.id),n,S).then((function(n){console.log(n),w.a.post("http://localhost:8080/sse/acceptorder",s).then((function(n){console.log(s),e({type:ue,accepted_id:t.id,time:a}),e({type:Y,message:"Order accepted successfuly!"})}))})).catch((function(t){console.log(t.response),e({type:X,message:t.response})}))}));var t,a},className:t.acceptButton,children:[" ","Accept"]}),Object(Ke.jsxs)(qt.a,{id:"reject_buton_".concat(e.order.id),onClick:function(){return s((t=e.order,a=c,function(e){var s={id:t.id,accepted:!1,time:parseInt(a),from:t.from};w.a.post("http://localhost:8080/sse/acceptorder",s).then((function(s){console.log(s),e({type:"REJECT_ORDER",accepted_id:t.id}),w.a.put("http://localhost:8080/admin/reject/".concat(t.id)).then((function(e){console.log(e)}))}))}));var t,a},className:t.rejectButton,children:[" ","Reject"]})]}):Object(Ke.jsxs)(Wt.a,{children:["\u03a7\u03c1\u03cc\u03bd\u03bf\u03c2 \u03c0\u03b1\u03c1\u03ac\u03b4\u03bf\u03c3\u03b7\u03c2 ",e.delivery_time," \u03bb\u03b5\u03c0\u03c4\u03ac"]}),"\u0395\u03c4\u03bf\u03b9\u03bc\u03ac\u03b6\u03bf\u03bd\u03c4\u03b1\u03b9"===e.type?Object(Ke.jsxs)(Ft.a,{elevation:0,children:[!0===e.order.canceled?Object(Ke.jsx)("span",{children:"\u0391\u03ba\u03c4\u03c1\u03c9\u03bc\u03ad\u03bd\u03b7"}):Object(Ke.jsx)("span",{children:"\u0391\u03c0\u03bf\u03b4\u03b5\u03c7\u03c4\u03ae"}),Object(Ke.jsx)(qt.a,{id:"complete_buton_".concat(e.order.id),className:t.compleButton,onClick:function(){return s((t=e.order.id,function(e){w.a.put("http://localhost:8080/admin/complete/".concat(t)).then((function(s){console.log(t),e({type:je,completed_id:t})}))}));var t},children:"\u039f\u03bb\u03bf\u03ba\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7"})]}):null]})]})}var Ya=Object(na.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflowY:"auto",maxHeight:"100vh","& > *":{margin:e.spacing(1),width:"100%",height:"100%"},paperSection:{backgroundColor:"black"}},row:{borderBottom:"2px solid gray"},orderRow:{border:"1px solid black",padding:"10px",marginBottom:"40px",flexDirection:"column"}}}));function Xa(e){var t=Ya();return Object(Ke.jsxs)(Ft.a,{className:t.root,elevation:3,children:["\u0395\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03b5\u03c2"===e.selectedCategory&&0===e.orders.pending_orders.length?Object(Ke.jsx)(n.a.Fragment,{children:"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03bd\u03ad\u03b5\u03c2 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2."}):"\u0395\u03c4\u03bf\u03b9\u03bc\u03ac\u03b6\u03bf\u03bd\u03c4\u03b1\u03b9"===e.selectedCategory&&0===e.orders.accepted_orders.length?Object(Ke.jsx)(n.a.Fragment,{children:"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2 \u03c3\u03b5 \u03b5\u03be\u03ad\u03bb\u03b9\u03be\u03b7."}):"\u039f\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b1\u03bd"===e.selectedCategory&&0===e.orders.finished_orders.length?Object(Ke.jsx)(n.a.Fragment,{children:"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2."}):null,Object(Ke.jsx)(Ge.a,{children:"\u0395\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03b5\u03c2"===e.selectedCategory&&void 0!==e.orders.pending_orders?e.orders.pending_orders.map((function(s,a){return console.log(s),Object(Ke.jsxs)(Be.a,{className:t.orderRow,children:[Object(Ke.jsx)(Va,{time:s.create_at,total_price:s.pre_discount_price,payment_type:s.payment_type,user_details:s.user_details,ID:s.id,order:s,delivery_time:s.delivery_time,type:e.selectedCategory}),Object(Ke.jsx)(Fa,{products:s.products})]},a)})):"\u0395\u03c4\u03bf\u03b9\u03bc\u03ac\u03b6\u03bf\u03bd\u03c4\u03b1\u03b9"===e.selectedCategory&&void 0!==e.orders.accepted_orders?e.orders.accepted_orders.map((function(s,a){return Object(Ke.jsxs)(Be.a,{className:t.orderRow,children:[Object(Ke.jsx)(Va,{time:s.create_at,total_price:s.pre_discount_price,payment_type:s.payment_type,user_details:s.user_details,ID:s.id,order:s,delivery_time:s.delivery_time,type:e.selectedCategory}),Object(Ke.jsx)(Fa,{products:s.products})]},a)})):"\u039f\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b1\u03bd"===e.selectedCategory&&void 0!==e.orders.finished_orders?e.orders.finished_orders.map((function(s,a){return Object(Ke.jsxs)(Be.a,{className:t.orderRow,children:[Object(Ke.jsx)(Va,{time:s.create_at,total_price:s.pre_discount_price,payment_type:s.payment_type,user_details:s.user_details,ID:s.id,order:s,type:e.selectedCategory,delivery_time:s.delivery_time}),Object(Ke.jsx)(Fa,{products:s.products})]},a)})):null})]})}var Ja=Object(na.a)((function(e){return{root:{width:"100%",flexWrap:"wrap",maxHeight:"110vh","& > *":{margin:e.spacing(1),width:"100%",height:"100%"},paperSection:{backgroundColor:"black"}},GridItem:{width:"100%"}}}));function Ka(e){var t=Ja(),s="",n="";e.categories.length>0&&(s=e.categories[0].name),e.ingredientCategories.length>0&&(n=0);var r=Object(a.useState)(s),c=Object(la.a)(r,2),i=c[0],o=c[1],d=Object(a.useState)(n),l=Object(la.a)(d,2),h=l[0],u=l[1];return Object(Ke.jsx)(Ft.a,{className:t.root,elevation:0,children:"\u03a0\u03c1\u03bf\u03ca\u03cc\u03bd\u03c4\u03b1"===e.selectedTab?Object(Ke.jsxs)(Ut.a,{container:!0,spacing:2,children:[Object(Ke.jsxs)(Ut.a,{item:!0,xs:3,children:[" ",Object(Ke.jsx)(ja,{categories:e.categories,selectedCategory:i,type:"products",onCategoryChange:function(e){return o(e)}})]}),Object(Ke.jsx)(Ut.a,{item:!0,xs:9,children:Object(Ke.jsx)(ya,{products:e.products,selectedCategory:i})})]}):"\u03a5\u03bb\u03b9\u03ba\u03ac"===e.selectedTab?Object(Ke.jsxs)(Ut.a,{container:!0,spacing:2,children:[Object(Ke.jsx)(Ut.a,{item:!0,xs:3,children:Object(Ke.jsx)(ja,{categories:e.ingredientCategories,type:"ingredients",selectedCategory:h,onCategoryChange:function(e){return u(e)}})}),Object(Ke.jsx)(Ut.a,{item:!0,xs:9,children:Object(Ke.jsx)(Ca,{ingredients:e.ingredients[h],selectedCategory:h})})]}):"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1"===e.selectedTab?Object(Ke.jsx)(Ut.a,{container:!0,spacing:2,children:Object(Ke.jsx)(Ut.a,{item:!0,className:t.GridItem,children:Object(Ke.jsx)(Ga,{comments:e.comments})})}):"Print"===e.selectedTab?Object(Ke.jsx)(Ha,{}):ca.includes(e.selectedTab)?Object(Ke.jsx)(Ut.a,{item:!0,xs:12,children:Object(Ke.jsx)(Xa,{selectedCategory:e.selectedTab,orders:e.orders})}):null})}var Za=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).changeTab=function(e){a.setState({selected_tab:e})},a.onSelectChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.eventSource=new EventSource("http://localhost:8080/sse/events/admin"),a.state={orders:[],selected_time:0,selected_tab:""},a.onSelectChange=a.onSelectChange.bind(Object(l.a)(a)),a.changeTab=a.changeTab.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"recieveOrder",value:function(e){var t=JSON.parse(e.data);console.log(t),this.props.get_order(t),this.setState({selectedTab:"\u0395\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03b5\u03c2"})}},{key:"acceptOrder",value:function(e){var t=this,s={id:e.id,accepted:!0,time:this.state.selected_time,from:e.from};w.a.post("http://localhost:8080/sse/acceptorder",s).then((function(e){var a=t.state.orders.filter((function(e){return e.id!==s.id}));t.setState({orders:a})}))}},{key:"rejectOrder",value:function(e){var t=this,s={id:e.id,accepted:!1,time:0,from:e.from};w.a.post("http://localhost:8080/sse/acceptorder",s).then((function(e){var a=t.state.orders.filter((function(e){return e.id!==s.id}));t.setState({orders:a})}))}},{key:"componentDidMount",value:function(){var e=this;this.eventSource.onmessage=function(t){return e.recieveOrder(t)}}},{key:"componentWillUnmount",value:function(){console.log("im getting outta here")}},{key:"render",value:function(){var e=this;return!1===this.props.productReducer.isReady?(this.props.get_items(),this.props.get_choices(),this.props.get_ingredients(),this.props.get_categories(),!1===this.props.adminReducer.orders_loaded_today&&this.props.get_today_orders(),!1===this.props.adminReducer.loaded&&this.props.get_comments(),Object(Ke.jsxs)("div",{className:"loading-div",children:[Object(Ke.jsx)($t.a,{disableShrink:!0})," "]})):Object(Ke.jsx)(aa.a,{className:"adminPanel",children:Object(Ke.jsxs)(Ut.a,{container:!0,spacing:2,children:[Object(Ke.jsx)(Ut.a,{item:!0,xs:2,className:"leftColMenu",children:Object(Ke.jsx)(da,{tabs:ra,selectedTab:this.state.selected_tab,onSelectChange:function(t){return e.changeTab(t)}})}),Object(Ke.jsx)(Ut.a,{item:!0,xs:10,className:"menuItemContainer",children:Object(Ke.jsx)(Ka,{ingredients:this.props.productReducer.ingredients,ingredientCategories:this.props.productReducer.ingredientCategories,products:this.props.productReducer.products,comments:this.props.adminReducer.comments,orders:this.props.adminReducer.orders,categories:this.props.productReducer.categories,selectedTab:this.state.selected_tab})})]})})}}]),s}(a.Component),Qa=Object(p.b)((function(e){return{productReducer:e.productReducer,adminReducer:e.adminReducer,orderReducer:e.orderReducer}}),{get_items:we,get_categories:ke,get_choices:Ae,get_ingredients:Re,get_comments:function(){return function(e){w.a.get("http://localhost:8080/comments/all").then((function(t){e({type:B,comments:t.data.data}),e({type:Y,message:"Comments fetched successfully!"})})).catch((function(t){console.log(t),e({type:X,message:t.response.data.message})}))}},get_order:function(e){return function(t){t({type:he,new_order:e})}},get_today_orders:function(){return function(e){w.a.get("http://localhost:8080/admin/today").then((function(t){console.log(t),e({type:me,orders:t.data.data}),e({type:Y,message:"Today orders fetched"})})).catch((function(t){return e({type:X,message:"Today orders fetched error"+t})}))}}})(Za),$a=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).showNewCat=function(e){e?a.setState({display:"block"}):a.setState({display:"none"})},a.onDelete=function(){var e=a.state.item.id;a.props.delete_item(e,"ingredient")},a.onChange=function(e){"Create New"===e.target.value?a.showNewCat(!0):a.setState(Object(i.a)({},e.target.name,e.target.value))},a.state={name:"",price:0,category:"",description:"",ingredient:{},display:"none"},a.onChange=a.onChange.bind(Object(l.a)(a)),a.onSubmit=a.onSubmit.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,description:this.state.description,price:parseFloat(this.state.price),category:this.state.category};""===this.state.name&&(t.name=this.state.ingredient.name),""===this.state.description&&(t.description=this.state.ingredient.description),0===this.state.price&&(t.price=this.state.ingredient.price),""===this.state.category&&(t.category=this.state.ingredient.category),this.props.update_ingredient(this.state.ingredient.id,t,"update_ingredient")}},{key:"componentWillMount",value:function(){this.setState({ingredient:this.props.location.state.ingredient})}},{key:"render",value:function(){return Object(Ke.jsxs)(m.a,{onSubmit:this.onSubmit,children:[Object(Ke.jsxs)(m.a.Group,{controlId:"name",children:[Object(Ke.jsx)(m.a.Label,{children:"Ingredient Name"}),Object(Ke.jsx)(m.a.Control,{type:"text",placehodler:"Enter name",defaultValue:this.state.ingredient.name,name:"name",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"description",children:[Object(Ke.jsx)(m.a.Label,{children:"Ingredient description"}),Object(Ke.jsx)(m.a.Control,{type:"text",defaultValue:this.state.ingredient.description,placeholder:"Enter desc",name:"description",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"price",children:[Object(Ke.jsx)(m.a.Label,{children:"Ingredient price"}),Object(Ke.jsx)(m.a.Control,{type:"number",step:"0.01",defaultValue:this.state.ingredient.price,autoComplete:"false",placeholder:"Enter price",name:"price",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"category",children:[Object(Ke.jsx)(m.a.Label,{children:"Category"}),Object(Ke.jsxs)(m.a.Control,{as:"select",name:"category",onChange:this.onChange,defaultValue:this.state.ingredient.category,required:!0,children:[this.props.categories.length>0?this.props.categories.map((function(e,t){return Object(Ke.jsx)("option",{children:e},t)})):Object(Ke.jsx)("option",{children:"No categories yet"},"0"),Object(Ke.jsx)("option",{children:"Create New"},"100")]})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"newcategory",style:{display:this.state.display},children:[Object(Ke.jsx)(m.a.Label,{children:"New Category "}),Object(Ke.jsx)(m.a.Control,{type:"text",placeholder:"Enter new category",name:"category",onChange:this.onChange})]}),Object(Ke.jsx)(y.a,{variant:"primary",type:"submit",children:"Update"}),Object(Ke.jsx)(y.a,{variant:"danger",onClick:this.onDelete,children:"DELETE"})]})}}]),s}(a.Component),en=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,categories:e.productReducer.ingredientCategories}}),{update_ingredient:Ie,delete_item:Te})($a),tn=s(201),sn=function(e){var t=e.component,s=Object(tn.a)(e,["component"]);return Object(Ke.jsx)(j.b,Object(Et.a)(Object(Et.a)({},s),{},{render:function(e){return sessionStorage.getItem("isAuthenticated")?Object(Ke.jsx)(t,Object(Et.a)({},e)):Object(Ke.jsx)(j.a,{to:"/home"})}}))},an=s(374),nn=s(371);function rn(e){return Object(Ke.jsx)(nn.a,Object(Et.a)({elevation:6,variant:"filled"},e))}function cn(){var e=Object(p.c)(),t=Object(p.d)((function(e){return e.uiReducer})),s=t.successSnackbarMessage,a=t.successSnackbarOpen;function n(){e(Zt())}return Object(Ke.jsx)(an.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:4e3,onClose:n,children:Object(Ke.jsx)(rn,{onClose:n,severity:"success",children:s})})}function on(e){return Object(Ke.jsx)(nn.a,Object(Et.a)({elevation:6,variant:"filled"},e))}function dn(){var e=Object(p.c)(),t=Object(p.d)((function(e){return e.uiReducer})),s=t.infoSnackbarMessage,a=t.infoSnackbarOpen;function n(){e(Zt())}return Object(Ke.jsx)(an.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:4e3,onClose:n,children:Object(Ke.jsx)(on,{onClose:n,severity:"info",children:s})})}function ln(e){return Object(Ke.jsx)(nn.a,Object(Et.a)({elevation:6,variant:"filled"},e))}function hn(){var e=Object(p.c)(),t=Object(p.d)((function(e){return e.uiReducer})),s=t.errorSnackbarMessage,a=t.errorSnackbarOpen;function n(){e(Zt())}return Object(Ke.jsx)(an.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:4e3,onClose:n,children:Object(Ke.jsx)(ln,{onClose:n,severity:"error",children:s})})}var un=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(Ke.jsxs)("div",{children:[Object(Ke.jsx)("h1",{children:"Hello there from our team"}),Object(Ke.jsx)("p",{children:"Unfortunatly this page does not exist"})]})}}]),s}(a.Component),jn=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).removeOption=function(e){a.setState({options:a.state.options.filter((function(t,s){return s!==e}))})},a.onChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.handleShow=function(){a.setState({show:!0})},a.handleClose=function(){a.setState({show:!1})},a.handleSaveOption=function(){var e={name:a.state.optionName,price:parseFloat(a.state.optionPrice)};a.setState((function(t){return{options:[].concat(Object(b.a)(t.options),[e])}})),a.setState({show:!1})},a.state={id:0,name:"",desctription:"",options:[],optionName:"",optionPrice:0,show:!1,multiple:!1,required:!1},a.removeOption=a.removeOption.bind(Object(l.a)(a)),a.onChange=a.onChange.bind(Object(l.a)(a)),a.handleShow=a.handleShow.bind(Object(l.a)(a)),a.handleClose=a.handleClose.bind(Object(l.a)(a)),a.handleSaveOption=a.handleSaveOption.bind(Object(l.a)(a)),a.onSumbit=a.onSubmit.bind(Object(l.a)(a)),a}return Object(d.a)(s,[{key:"componentWillMount",value:function(){var e=this.props.location.state.choice;this.setState({id:e.id,name:e.name,description:e.description,options:e.options,multiple:e.multiple,required:e.required})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={id:this.state.id,name:this.state.name,description:this.state.description,required:this.state.required,multiple:this.state.multiple,options:this.state.options};this.props.update_choice(t.id,t)}},{key:"render",value:function(){var e=this;return Object(Ke.jsxs)("div",{className:"CreateChoiceForm",children:[Object(Ke.jsxs)(m.a,{onSubmit:this.onSumbit,children:[Object(Ke.jsxs)(m.a.Group,{controlId:"choiceName",children:[Object(Ke.jsx)(m.a.Label,{children:"Choice Name"}),Object(Ke.jsx)(m.a.Control,{name:"name",type:"text",value:this.state.name,placeholder:"Enter name",required:!0,onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"choiceDesc",children:[Object(Ke.jsx)(m.a.Label,{children:"Choice Description"}),Object(Ke.jsx)(m.a.Control,{name:"description",type:"text",value:this.state.description,placeholder:"Enter description",required:!0,onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"choiceMultiple",children:[Object(Ke.jsx)(m.a.Label,{children:"Multiple"}),Object(Ke.jsx)(qe.a,{checked:this.state.multiple,onChange:function(t){return e.setState({multiple:!e.state.multiple})},color:"primary"})]}),Object(Ke.jsxs)(m.a.Group,{controlId:"choiceRequired",children:[Object(Ke.jsx)(m.a.Label,{children:"Required"}),Object(Ke.jsx)(qe.a,{checked:this.state.required,onChange:function(t){return e.setState({required:!e.state.required})},color:"primary"})]}),Object(Ke.jsx)(m.a.Label,{children:"Choice Options"}),Object(Ke.jsx)(m.a.Group,{controlId:"choiceOptions",children:Object(Ke.jsx)(Ge.a,{dense:!0,children:this.state.options.map((function(t,s){return Object(Ke.jsxs)(Be.a,{children:[Object(Ke.jsx)(Ue.a,{primary:"".concat(t.name," : ").concat(t.price)})," ",Object(Ke.jsx)(y.a,{onClick:function(){return e.removeOption(s)},children:"X"})]},s)}))})}),Object(Ke.jsxs)(m.a.Row,{children:[Object(Ke.jsx)(y.a,{variant:"primary",onClick:this.handleShow,children:"Add option"}),Object(Ke.jsx)(y.a,{variant:"primary",type:"submit",children:"Update choice"})]})]}),Object(Ke.jsxs)(tt.a,{show:this.state.show,onHide:this.handleClose,children:[Object(Ke.jsx)(tt.a.Header,{closeButton:!0,children:Object(Ke.jsx)(tt.a.Title,{children:"Option Values"})}),Object(Ke.jsx)(tt.a.Body,{children:Object(Ke.jsxs)(m.a.Row,{children:[Object(Ke.jsxs)(m.a.Group,{as:x.a,md:6,children:[Object(Ke.jsx)(m.a.Label,{children:"Value"}),Object(Ke.jsx)(m.a.Control,{id:"optionName",name:"optionName",type:"text",placeholer:"enter name",onChange:this.onChange})]}),Object(Ke.jsxs)(m.a.Group,{as:x.a,md:6,children:[Object(Ke.jsx)(m.a.Label,{children:"Price"}),Object(Ke.jsx)(m.a.Control,{id:"optionPrice",name:"optionPrice",type:"number",step:"0.01",placeholer:"enter price",onChange:this.onChange})]})]})}),Object(Ke.jsxs)(tt.a.Footer,{children:[Object(Ke.jsx)(y.a,{variant:"secondary",onClick:this.handleClose,children:"Close"}),Object(Ke.jsx)(y.a,{variant:"primary",onClick:this.handleSaveOption,children:"Save Option"})]})]})]})}}]),s}(a.Component),pn=Object(p.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated}}),{update_choice:Ee})(jn),bn=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={title:""},a}return Object(d.a)(s,[{key:"render",value:function(){return Object(Ke.jsx)("div",{children:Object(Ke.jsx)("h1",{children:this.state.title})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.match.params?{title:e.match.params.type}:null}}]),s}(a.Component),mn=Object(p.b)()(bn),On=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={comments:[],hasLoaded:!1},a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=this;if(!1===this.state.hasLoaded){var t=[];w.a.get("http://localhost:8080/comments/all").then((function(s){console.log(s),t=s.data.data,e.setState({comments:t,hasLoaded:!0})}))}}},{key:"render",value:function(){var e=this;return console.log(this.state),!1===this.state.hasLoaded?Object(Ke.jsx)("div",{children:Object(Ke.jsxs)("div",{className:"loading-div",children:[Object(Ke.jsx)($t.a,{disableShrink:!0})," "]})}):Object(Ke.jsx)("div",{children:this.state.comments.length>0?Object(Ke.jsx)(Ge.a,{children:this.state.comments.map((function(t,s){return Object(Ke.jsx)(Be.a,{alignItems:"flex-start",className:"comment-list-item",children:Object(Ke.jsx)(Ft.a,{children:Object(Ke.jsx)(Ue.a,{primary:Object(Ke.jsxs)(n.a.Fragment,{children:[t.text,Object(Ke.jsx)("br",{}),t.rate,"/5",Object(Ke.jsx)("br",{}),Object(Ke.jsx)(qt.a,{children:"View Details"})]}),secondary:Object(Ke.jsx)(n.a.Fragment,{children:!1===t.answered?Object(Ke.jsxs)(n.a.Fragment,{children:[Object(Ke.jsx)(qt.a,{onClick:function(){return e.props.approve_comment(t.id)},children:"Accept"}),Object(Ke.jsx)(qt.a,{onClick:function(){return e.props.reject_comment(t.id)},children:"Reject"})]}):Object(Ke.jsx)("span",{children:t.approved?Object(Ke.jsx)("span",{children:"approved"}):Object(Ke.jsx)("span",{children:"rejected"})})})})})},s)}))}):Object(Ke.jsx)("span",{children:"No comments yet"})})}}]),s}(a.Component),gn=Object(p.b)((function(e){return{}}),{approve_comment:Da,reject_comment:Ma})(On),xn=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).showModal=function(t){e.setState({showModal:!e.state.showModal})},e.onChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.state={message:"",showModal:!1},e.onChange=e.onChange.bind(Object(l.a)(e)),e.showModal=e.showModal.bind(Object(l.a)(e)),e}return Object(d.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(Ke.jsxs)("div",{className:"App",children:[Object(Ke.jsx)(cn,{}),Object(Ke.jsx)(dn,{}),Object(Ke.jsx)(hn,{}),Object(Ke.jsx)(Ps,{onClose:this.showModal}),Object(Ke.jsx)(zs,{onClose:this.showModal,show:this.state.showModal}),Object(Ke.jsx)(O.a,{fluid:!0,id:"Panel",children:Object(Ke.jsxs)(j.d,{children:[Object(Ke.jsx)(j.b,{path:"/home",component:It}),Object(Ke.jsx)(j.b,{path:"/items",component:St}),Object(Ke.jsx)(j.b,{path:"/ingredients",component:St}),Object(Ke.jsx)(j.b,{path:"/choices",component:St}),Object(Ke.jsx)(j.b,{exact:!0,path:"/",children:Object(Ke.jsx)(j.a,{to:"/home"})}),Object(Ke.jsx)(j.b,{exact:!0,path:"/order",component:ss}),Object(Ke.jsx)(j.b,{path:"/pre_complete/:id",component:ks}),Object(Ke.jsx)(j.b,{path:"/search/:string",component:ss}),Object(Ke.jsx)(j.b,{path:"/admin",component:Qa}),Object(Ke.jsx)(j.b,{path:"/single_item",component:hs}),Object(Ke.jsx)(j.b,{path:"/single_ingredient",component:en}),Object(Ke.jsx)(j.b,{path:"/single_choice",component:pn}),Object(Ke.jsx)(j.b,{path:"/document/:type",component:mn}),Object(Ke.jsx)(j.b,{path:"/comments",component:gn}),Object(Ke.jsx)(sn,{path:"/stats/:id",component:bt}),Object(Ke.jsx)(sn,{path:"/create_item",component:lt}),Object(Ke.jsx)(sn,{path:"/all_users",component:At}),Object(Ke.jsx)(sn,{exact:!0,path:"/account",component:ds}),Object(Ke.jsx)(sn,{exact:!0,path:"/account/orders",component:Zs}),Object(Ke.jsx)(sn,{exact:!0,path:"/account/addresses",component:ea}),Object(Ke.jsx)(sn,{exact:!0,path:"/account/ratings",component:sa}),Object(Ke.jsx)(j.b,{path:"*",children:Object(Ke.jsx)(un,{})})]})}),Object(Ke.jsx)(Bs,{className:"footer"})]})}}]),s}(a.Component),fn=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,381)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),r(e),c(e)}))},yn=(s(278),s(69)),vn={products:[],product:{},categories:[],ingredients:[],ingredientCategories:[],choices:[],isReady:!1},Cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(Et.a)(Object(Et.a)({},e),{},{products:t.products,isReady:!0});case Q:return Object(Et.a)(Object(Et.a)({},e),{},{categories:t.categories});case $:var a,n=[],r=s(99);if(t.ingredients.length>0)for(var c in a=r.groupBy(t.ingredients,"category"))n.push(a[c]);return Object(Et.a)(Object(Et.a)({},e),{},{ingredients:n,ingredientCategories:t.categories});case ee:return Object(Et.a)(Object(Et.a)({},e),{},{choices:t.choices});case te:return Object(Et.a)(Object(Et.a)({},e),{},{products:[].concat(Object(b.a)(e.products),[t.new_product]),isReady:!1});case se:return Object(Et.a)(Object(Et.a)({},e),{},{categories:[].concat(Object(b.a)(e.categories),[t.category]),isReady:!1});case ae:return Object(Et.a)(Object(Et.a)({},e),{},{ingredients:[].concat(Object(b.a)(e.ingredients),[t.ingredients]),isReady:!1});case ne:return Object(Et.a)(Object(Et.a)({},e),{},{choices:[].concat(Object(b.a)(e.choices),[t.choice]),isReady:!1});case de:var i=Object(b.a)(e.products),o=0;for(c in i)i[c].id===t.new_item.id&&(o=c);return i[o]=t.new_item,console.log(i),Object(Et.a)(Object(Et.a)({},e),{},{products:i});case re:return Object(Et.a)(Object(Et.a)({},e),{},{products:Object(b.a)(e.products.filter((function(e){return e!==t.delete_product}))),isReady:!1});case ce:return Object(Et.a)(Object(Et.a)({},e),{},{categories:Object(b.a)(e.categories.filter((function(e){return e!==t.delete_category}))),isReady:!1});case ie:return Object(Et.a)(Object(Et.a)({},e),{},{ingredients:Object(b.a)(e.ingredients.filter((function(e){return e!==t.delete_ingredient}))),isReady:!1});case oe:var d=Object(b.a)(e.ingredients),l=0,h=0;for(c in d)for(var u in d[c])d[c][u].id===t.new_ingredient.id&&(l=c,h=u);return d[l][h]=t.new_ingredient,console.log(t.new_ingredient),Object(Et.a)(Object(Et.a)({},e),{},{ingredients:d});default:return e}},_n={token:sessionStorage.getItem("token"),isAuthenticated:!1,isLoading:!1,hasLoaded:!1,user:null,error:""},Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(Et.a)(Object(Et.a)({},e),{},{isLoading:!0,error:""});case L:case G:return Object(Et.a)({},e);case D:return Object(Et.a)(Object(Et.a)({},e),{},{hasLoaded:!1,error:""});case M:return Object(Et.a)(Object(Et.a)({},e),{},{user:t.payload.user,hasLoaded:!0,error:""});case T:return sessionStorage.setItem("isAuthenticated",!0),Object(Et.a)(Object(Et.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.user});case I:return sessionStorage.setItem("isAuthenticated",!0),sessionStorage.setItem("token",t.token),sessionStorage.setItem("refreshToken",t.refresh_token),sessionStorage.setItem("userID",t.user.id),Object(Et.a)(Object(Et.a)(Object(Et.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1,user:t.user,error:""});case A:return Object(Et.a)(Object(Et.a)({},e),{},{isLoading:!1,error:t.error});case k:return sessionStorage.setItem("token",t.payload.token),Object(Et.a)(Object(Et.a)(Object(Et.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1,user:t.user});case E:return sessionStorage.removeItem("token"),sessionStorage.removeItem("isAuthenticated"),sessionStorage.removeItem("userID"),Object(Et.a)(Object(Et.a)({},e),{},{token:null,user:null,error:"",hasLoaded:!1,isAuthenticated:!1,isLoading:!1});case R:return sessionStorage.removeItem("token"),Object(Et.a)(Object(Et.a)({},e),{},{token:null,user:null,error:"",hasLoaded:!1,isAuthenticated:!1,isLoading:!1});default:return e}},wn={order:{},sent:!1,pending:!1,accepted:!1,recieved:!1,timeToDelivery:0,products:[],totalPrice:0},Sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(Et.a)(Object(Et.a)({},e),{},{sent:!0,pending:!0,accepted:!1});case pe:return Object(Et.a)(Object(Et.a)({},e),{},{sent:!0,accepted:!0,recieved:!0,timeToDelivery:t.time,pending:!1});case Oe:return{order:{},sent:!1,pending:!1,accepted:!1,recieved:!1,products:[],totalPrice:0};case be:return Object(Et.a)(Object(Et.a)({},e),{},{sent:!0,accepted:!1});case ge:console.log(t);var s=[].concat(Object(b.a)(e.products),[t.product]),a=e.totalPrice+t.totalPrice;return Object(Et.a)(Object(Et.a)({},e),{},{products:s,totalPrice:a});case xe:return Object(Et.a)(Object(Et.a)({},e),{},{products:t.new_order,totalPrice:t.total_price});case fe:return Object(Et.a)({},e);case ye:return{order:{},sent:!1,pending:!1,accepted:!1,products:[],totalPrice:0};default:return e}},kn={statusText:"",status:null,message:"",alerts:[]},Rn={successSnackbarOpen:!1,errorSnackbarOpen:!1,infoSnackbarOpen:!1,successSnackbarMessage:"",errorSnackbarMessage:"",infoSnackbarMessage:""},In={room:null,chatLog:[],username:null},An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:case Ce:e.room=t.payload;break;case _e:e.username=t.username;break;default:return e}},En={comments:[],loaded:!1,orders_loaded_today:!1,orders:{pending_orders:[],accepted_orders:[],finished_orders:[]}},Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(Et.a)(Object(Et.a)({},e),{},{comments:t.comments,loaded:!0});case q:var s=Object(b.a)(e.comments);for(var a in s)s[a].id===t.comment.id&&(s[a]=t.comment);return Object(Et.a)(Object(Et.a)({},e),{},{comments:s});case U:var n=Object(b.a)(e.comments);for(a in n)n[a].id===t.comment.id&&(n[a]=t.comment);return Object(Et.a)(Object(Et.a)({},e),{},{comments:n});case F:var r=Object(b.a)(e.comments);for(a in r)r[a].id===t.comment.id&&(r[a]=t.comment);return Object(Et.a)(Object(Et.a)({},e),{},{comments:r});case he:var c=e.orders;return c.pending_orders.push(t.new_order.order),Object(Et.a)(Object(Et.a)({},e),{},{orders:c});case ue:console.log(t),console.log(t.accepted_id);var i=e.orders;for(a in i.pending_orders)i.pending_orders[a].id===t.accepted_id&&(i.pending_orders[a].delivery_time=t.time,i.accepted_orders.push(i.pending_orders[a]));return i.pending_orders=i.pending_orders.filter((function(e){return e.id!==t.accepted_id})),Object(Et.a)(Object(Et.a)({},e),{},{orders:i});case je:console.log(t.completed_id);var o=e.orders;for(a in o.accepted_orders)o.accepted_orders[a].id===t.completed_id&&o.finished_orders.push(o.accepted_orders[a]);return o.accepted_orders=o.accepted_orders.filter((function(e){return e.id!==t.completed_id})),Object(Et.a)(Object(Et.a)({},e),{},{orders:o});case me:var d=e.orders;for(a in d.accepted_orders=[],d.pending_orders=[],d.finished_orders=[],t.orders)t.orders[a].completed?d.finished_orders.push(t.orders[a]):t.orders[a].accepted||t.orders[a].canceled?d.accepted_orders.push(t.orders[a]):d.pending_orders.push(t.orders[a]);return Object(Et.a)(Object(Et.a)({},e),{},{orders:d,orders_loaded_today:!0});default:return e}},Pn=Object(yn.combineReducers)({productReducer:Cn,userReducer:Nn,orderReducer:Sn,errorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{status:t.status,statusText:t.statusText,message:t.message};case W:return{message:t.message};case z:return Object(Et.a)(Object(Et.a)({},e),{},{alerts:[].concat(Object(b.a)(e.alerts),[t.payload])});case V:return e.alerts.filter((function(e){return e.id!==t.payload}));default:return e}},uiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(Et.a)(Object(Et.a)({},e),{},{successSnackbarOpen:!0,successSnackbarMessage:t.message});case K:return{successSnackbarOpen:!1,infoSnackbarOpen:!1,errorSnackbarOpen:!1};case X:return Object(Et.a)(Object(Et.a)({},e),{},{errorSnackbarOpen:!0,errorSnackbarMessage:t.message});case J:return Object(Et.a)(Object(Et.a)({},e),{},{infoSnackbarOpen:!0,infoSnackbarMessage:t.message});default:return e}},webSocketReducer:An,adminReducer:Tn}),Dn=s(198),Mn=s(199),Ln=function(){var e=[Dn.a];return Object(yn.createStore)(Pn,{},Object(Mn.composeWithDevTools)(yn.applyMiddleware.apply(void 0,e)),+window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}();c.a.render(Object(Ke.jsx)(p.a,{store:Ln,children:Object(Ke.jsx)(Ot.a,{children:Object(Ke.jsx)(xn,{})})}),document.getElementById("root")),fn()}},[[279,1,2]]]);
//# sourceMappingURL=main.290c3ff5.chunk.js.map